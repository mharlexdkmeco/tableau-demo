var ee=Object.create;var T=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty;var s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var se=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of oe(t))!re.call(e,r)&&r!==o&&T(e,r,{get:()=>t[r],enumerable:!(n=te(t,r))||n.enumerable});return e};var w=(e,t,o)=>(o=e!=null?ee(ne(e)):{},se(t||!e||!e.__esModule?T(o,"default",{value:e,enumerable:!0}):o,e));var y=s(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.joinPath=d.splitPath=void 0;var b="/",ce=e=>e?e.trim().split(b).filter(t=>!!t):[];d.splitPath=ce;var ue=(...e)=>{let t=`${b}${e.reduce((n,r)=>[...n,...(0,d.splitPath)(r)],[]).join(b)}`,o=e[e.length-1];return e&&o.endsWith(b)&&(t+=b),t};d.joinPath=ue});var S=s((Ze,ge)=>{ge.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""},sa:{loc:"sa",lang:"ar"}}});var F=s(f=>{"use strict";var de=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0});f.UrlLocale=void 0;var pe=y(),he=de(S()),fe="us",L=class{constructor(t,o){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=u=>{this.urlLoc!==u&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;let n=o?.localeMap||he.default,r=o?.defaultLocale||fe;if(this.segs=(0,pe.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in n?this.segs[0]:r,!n[this.urlLoc])throw new Error(`No locale config found for given url /${this.urlLoc}.`);let l=Object.assign(n[this.urlLoc]);this.lang=l.lang,this.loc=l.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath(r)}};f.UrlLocale=L});var C=s(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.joinPath=i.splitPath=i.UrlLocale=void 0;var me=F();Object.defineProperty(i,"UrlLocale",{enumerable:!0,get:function(){return me.UrlLocale}});var M=y();Object.defineProperty(i,"splitPath",{enumerable:!0,get:function(){return M.splitPath}});Object.defineProperty(i,"joinPath",{enumerable:!0,get:function(){return M.joinPath}})});var N=s(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var G=C();j.default=e=>{let t;if(e===void 0||typeof e=="string"){let n=globalThis.sfdcBase||{};if(!e&&!Pe(n.page))return n.page.pagename;t=new G.UrlLocale(e||location.pathname)}else t=e;return[...["SFDC",t.urlLoc],...t.basePath==="/"?["homepage"]:(0,G.splitPath)(t.basePath)].join(":")};var Pe=e=>!e||e instanceof Object&&!Object.keys(e).length});var B=s(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.default=e=>e.endsWith("homepage")?"Home Page":"Other Page"});var q=s(p=>{"use strict";var $=p&&p.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0});p.getPageName=void 0;var k=$(N());p.getPageName=k.default;var be=$(B());p.default=(e,t)=>{let o=e.reqLocale,n=(0,k.default)(e.reqLocale),r=(0,be.default)(n);return{pagename:n,type:r,locale:o.urlLoc,segment:`${t==="customer"?t:"non-customer"}:${o.urlLoc}`,sitesection:(()=>{let l=n.split(":");return`${o.urlLoc}:${l.length>2?l[2]:"other"}`})(),uiframework:e.expRendererLabel}}});var D=s(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.joinPath=h.splitPath=void 0;var v="/",xe=e=>e?e.trim().split(v).filter(t=>!!t):[];h.splitPath=xe;var De=(...e)=>{let t=`${v}${e.reduce((n,r)=>[...n,...(0,h.splitPath)(r)],[]).join(v)}`,o=e[e.length-1];return e&&o.endsWith(v)&&(t+=v),t};h.joinPath=De});var H=s((ut,Ie)=>{Ie.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""}}});var Y=s(m=>{"use strict";var Te=m&&m.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});m.UrlLocale=void 0;var we=D(),V=Te(H()),J="us",I=class{constructor(t){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=()=>{this.loc!==J&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;this.segs=(0,we.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in V.default?this.segs[0]:J;let o=Object.assign(V.default[this.urlLoc]);this.lang=o.lang,this.loc=o.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath()}};m.UrlLocale=I});var K=s(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.joinPath=c.splitPath=c.UrlLocale=void 0;var Ue=Y();Object.defineProperty(c,"UrlLocale",{enumerable:!0,get:function(){return Ue.UrlLocale}});var X=D();Object.defineProperty(c,"splitPath",{enumerable:!0,get:function(){return X.splitPath}});Object.defineProperty(c,"joinPath",{enumerable:!0,get:function(){return X.joinPath}})});var P=globalThis.sfdcBase||{};var g={WARN:"warn",INFO:"info",DEBUG:"debug",DEPRECATE:"deprecate"},ae="client-libs-debug",O=async(e,...t)=>{let o=sessionStorage.getItem(ae),n=o==="mute";if(!t.length||n)return;let r=console,l="trace",u;switch(e){case g.DEPRECATE:u=r[l],t=`${t} has been deprecated. Please update or remove reference`;break;case g.DEBUG:o&&!n&&(u=r[l]);break;case g.INFO:case g.WARN:u=r[e];break}typeof u=="function"&&u(t)};var ze=!!(P.env&&P.env.toLowerCase()==="prod");var U=e=>{let t=localStorage.getItem(e);try{t=JSON.parse(t)}catch{}return t??""};var le="webactls";globalThis.digitalData=globalThis.digitalData||{page:{},user:[{}],localStorage:{...U(le)||{}},util:{}};globalThis.digitalData.timestamp=globalThis.digitalData.timestamp||new Date().getTime();var ie=globalThis.digitalData;var Se=w(q());var ve="https://a.sfdcstatic.com",_e="/digital/@sfdc-www/clientlibs-web-components",Oe="v1",ye="gdpr.js",Le="v1",je="/digital/one-trust/ext";var A="analytics.js";var W={QA:"latest",UAT:"stage",PROD:"stable",DEV:"latest",INT:"stage",HOTFIX:"stable",ONBOARD:"stable"},z="Could not import module URL: ",R=P.env||"",Ee=R&&W[R]?W[R]:"stable",Re={ver:Oe,path:_e,envTag:Ee},Ae=(e,t)=>{if(e)try{t={...Re,...t};let o=t.verDir||`${t.ver}-${t.envTag}`,n=new URL(t.path,ve);return n.pathname+=`/${[o,e].join("/")}`,n.toString()}catch{}},_=(e,t)=>{let o=Ae(e,t);return o?import(o).catch(n=>{O(g.WARN,`${z} ${o}`)}):Promise.reject(`${z} ${e}`)},x=_(ye,{ver:Le,path:je});var Q=w(K());var Z="digital-identity-attributes",Fe=async()=>_(A).then(e=>e.getGACID()),Me=async()=>{let e=await _(A);return e.getUserProfile(e.USER_PROFILES.TB)},Ce=async()=>{let e=await x;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_FUNCTIONAL))},Ge=async()=>{let e=await x;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_ADVERTISING))},a={gacIdResolver:Fe,tbidUserInfoResolver:Me,gdprFunctionalResolver:Ce,gdprAdvertisingResolver:Ge},yt=e=>{a.gacIdResolver=e},Lt=e=>{a.tbidUserInfoResolver=e},jt=e=>{a.gdprFunctionalResolver=e},Et=e=>{a.gdprAdvertisingResolver=e},Rt=async()=>a.gacIdResolver(),At=async()=>a.tbidUserInfoResolver(),xt=async()=>a.gdprFunctionalResolver(),Dt=async()=>a.gdprAdvertisingResolver(),Ne=(e,t)=>t??e;typeof window<"u"&&(a=window[Z]=Ne(a,window[Z]));export{Rt as getGacId,At as getTbidUserInfo,Ne as initializeState,Dt as isGdprAdvertising,xt as isGdprFunctional,yt as setGacIdResolver,Et as setGdprAdvertisingResolver,jt as setGdprFunctionalResolver,Lt as setTbidUserInfoResolver};
//# sourceMappingURL=identity.js.map
