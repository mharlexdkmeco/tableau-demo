var we=Object.create;var F=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var je=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Se=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of je(t))!Re.call(e,o)&&o!==n&&F(e,o,{get:()=>t[o],enumerable:!(r=Ie(t,o))||r.enumerable});return e};var W=(e,t,n)=>(n=e!=null?we(Ce(e)):{},Se(t||!e||!e.__esModule?F(n,"default",{value:e,enumerable:!0}):n,e));var I=l(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.joinPath=p.splitPath=void 0;var L="/",qe=e=>e?e.trim().split(L).filter(t=>!!t):[];p.splitPath=qe;var Ge=(...e)=>{let t=`${L}${e.reduce((r,o)=>[...r,...(0,p.splitPath)(o)],[]).join(L)}`,n=e[e.length-1];return e&&n.endsWith(L)&&(t+=L),t};p.joinPath=Ge});var Q=l(($t,ze)=>{ze.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""},sa:{loc:"sa",lang:"ar"}}});var Z=l(h=>{"use strict";var Ve=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});h.UrlLocale=void 0;var Fe=I(),We=Ve(Q()),Je="us",j=class{constructor(t,n){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=a=>{this.urlLoc!==a&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;let r=n?.localeMap||We.default,o=n?.defaultLocale||Je;if(this.segs=(0,Fe.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in r?this.segs[0]:o,!r[this.urlLoc])throw new Error(`No locale config found for given url /${this.urlLoc}.`);let s=Object.assign(r[this.urlLoc]);this.lang=s.lang,this.loc=s.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath(o)}};h.UrlLocale=j});var te=l(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.joinPath=i.splitPath=i.UrlLocale=void 0;var Ke=Z();Object.defineProperty(i,"UrlLocale",{enumerable:!0,get:function(){return Ke.UrlLocale}});var ee=I();Object.defineProperty(i,"splitPath",{enumerable:!0,get:function(){return ee.splitPath}});Object.defineProperty(i,"joinPath",{enumerable:!0,get:function(){return ee.joinPath}})});var re=l(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var ne=te();C.default=e=>{let t;if(e===void 0||typeof e=="string"){let r=globalThis.sfdcBase||{};if(!e&&!Ye(r.page))return r.page.pagename;t=new ne.UrlLocale(e||location.pathname)}else t=e;return[...["SFDC",t.urlLoc],...t.basePath==="/"?["homepage"]:(0,ne.splitPath)(t.basePath)].join(":")};var Ye=e=>!e||e instanceof Object&&!Object.keys(e).length});var oe=l(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.default=e=>e.endsWith("homepage")?"Home Page":"Other Page"});var le=l(m=>{"use strict";var se=m&&m.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});m.getPageName=void 0;var ae=se(re());m.getPageName=ae.default;var Xe=se(oe());m.default=(e,t)=>{let n=e.reqLocale,r=(0,ae.default)(e.reqLocale),o=(0,Xe.default)(r);return{pagename:r,type:o,locale:n.urlLoc,segment:`${t==="customer"?t:"non-customer"}:${n.urlLoc}`,sitesection:(()=>{let s=r.split(":");return`${n.urlLoc}:${s.length>2?s[2]:"other"}`})(),uiframework:e.expRendererLabel}}});var N=l(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.joinPath=f.splitPath=void 0;var y="/",it=e=>e?e.trim().split(y).filter(t=>!!t):[];f.splitPath=it;var ct=(...e)=>{let t=`${y}${e.reduce((r,o)=>[...r,...(0,f.splitPath)(o)],[]).join(y)}`,n=e[e.length-1];return e&&n.endsWith(y)&&(t+=y),t};f.joinPath=ct});var de=l((Xt,ut)=>{ut.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""}}});var me=l(b=>{"use strict";var dt=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});b.UrlLocale=void 0;var gt=N(),ge=dt(de()),pe="us",H=class{constructor(t){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=()=>{this.loc!==pe&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;this.segs=(0,gt.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in ge.default?this.segs[0]:pe;let n=Object.assign(ge.default[this.urlLoc]);this.lang=n.lang,this.loc=n.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath()}};b.UrlLocale=H});var he=l(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.joinPath=c.splitPath=c.UrlLocale=void 0;var pt=me();Object.defineProperty(c,"UrlLocale",{enumerable:!0,get:function(){return pt.UrlLocale}});var fe=N();Object.defineProperty(c,"splitPath",{enumerable:!0,get:function(){return fe.splitPath}});Object.defineProperty(c,"joinPath",{enumerable:!0,get:function(){return fe.joinPath}})});var u=globalThis.sfdcBase||{};var d={WARN:"warn",INFO:"info",DEBUG:"debug",DEPRECATE:"deprecate"},Ne="client-libs-debug",D=async(e,...t)=>{let n=sessionStorage.getItem(Ne),r=n==="mute";if(!t.length||r)return;let o=console,s="trace",a;switch(e){case d.DEPRECATE:a=o[s],t=`${t} has been deprecated. Please update or remove reference`;break;case d.DEBUG:n&&!r&&(a=o[s]);break;case d.INFO:case d.WARN:a=o[e];break}typeof a=="function"&&a(t)};var J="</|[<>()]",He={param:e=>e?e.trim().replace(new RegExp(`${J}|(%3(c|e))`,"gi"),""):"",path:e=>e?encodeURI(decodeURIComponent(e).trim().replace(new RegExp(`${J}|'|"|;|=`,"gi"),"")):""},K=async(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n??{}}))};var g=(e,t=location.search)=>{let n=t.indexOf("?");if(!e||n<0)return"";let r=t.match(new RegExp(`${e}=`,"i"));e=r?r.toString().replace("=",""):e;let o=new URLSearchParams(t.substring(n,t.length)),s=o.get(e)||"";return He.param(s)};var w=e=>!e||e instanceof Object&&!Object.keys(e).length;var jt=!!(u.env&&u.env.toLowerCase()==="prod");var Y=e=>{if(!e||e.length!==15||e.indexOf("70")!==0)return e;let n="";for(let r=0;r<3;r++){let o=0;for(let s=0;s<5;s++){let a=e.charAt(r*5+s);a>="A"&&a<="Z"&&(o+=1<<s)}o<=25?n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(o):n+="012345".charAt(o-26)}return e+n};var X=e=>{let t=localStorage.getItem(e);try{t=JSON.parse(t)}catch{}return t??""};var Ue="webactls";globalThis.digitalData=globalThis.digitalData||{page:{},user:[{}],localStorage:{...X(Ue)||{}},util:{}};globalThis.digitalData.timestamp=globalThis.digitalData.timestamp||new Date().getTime();var $e=globalThis.digitalData;var mt=W(le());var Qe="https://a.sfdcstatic.com",Ze="/digital/@sfdc-www/clientlibs-web-components",et="v1",tt="gdpr.js",nt="v1",rt="/digital/one-trust/ext";var ie={QA:"latest",UAT:"stage",PROD:"stable",DEV:"latest",INT:"stage",HOTFIX:"stable",ONBOARD:"stable"},ce="Could not import module URL: ",S=u.env||"",ot=S&&ie[S]?ie[S]:"stable",st={ver:et,path:Ze,envTag:ot},at=(e,t)=>{if(e)try{t={...st,...t};let n=t.verDir||`${t.ver}-${t.envTag}`,r=new URL(t.path,Qe);return r.pathname+=`/${[n,e].join("/")}`,r.toString()}catch{}},lt=(e,t)=>{let n=at(e,t);return n?import(n).catch(r=>{D(d.WARN,`${ce} ${n}`)}):Promise.reject(`${ce} ${e}`)},ue=lt(tt,{ver:nt,path:rt});var be=W(he());var E="www_track",Ee="pbc-button, :not(pbc-button) > a[href], button",ft=e=>{let t=[];return e.querySelectorAll(Ee).forEach(r=>{let o=r.dataset.linkUrl,s=r.offsetParent!==null,a={};o?a={text:r.dataset.linkText,url:o,type:r.dataset.linkType,internalDriver:g("d",o)}:r.href&&(a={text:r.dataset.linkText||r.innerText,url:r.href,type:r.dataset.linkType||"text link",internalDriver:g("d",r.href)}),a?.url&&s&&t.push(a)}),t},ht=e=>{try{let t=JSON.parse(e);return Array.isArray(t)&&t.length!==0?t:void 0}catch{return}},U=e=>{if(!Object.keys(e).length)return{};let t={id:e.moduleId,name:e.moduleName,type:e.moduleType,position:e.modulePosition};return["Auto","Manual"].forEach(n=>{let r=ht(e[`moduleTags${n}`]||"");typeof r<"u"&&(n==="Auto"?t.tagsAuto=r:n==="Manual"&&(t.tagsManual=r))}),t},k=e=>{let t=[];return e.querySelectorAll("[data-module-id]").forEach(r=>{if(r.dataset.moduleTrackImpressions==="false")return;let o=U(r.dataset),s=ft(r),a=t.find(B=>B.id===o.id);a&&s.length>0?(a.links||(a.links=[]),a.links=a.links.concat(s)):(s.length>0&&(o.links=s),t.push(o))}),t},$=(e,t)=>{e.dataset.bladeSource=t},v=e=>({id:e.bladeId,name:e.bladeName,position:e.bladePosition,source:e.bladeSource,variant:e.bladeVariant,state:e.bladeState||"rendered",type:"blade"}),T=e=>{let t=e.querySelector("[data-blade-flag]");return t?{flag:t.dataset.bladeFlag,rule:t.dataset.bladeRule,variation:t.dataset.bladeVariation}:{}},x=(e,t)=>{e.dataset.bladeState=t},M=e=>e&&e.matches("pbc-button")&&(e.getAttribute("is-disabled")==="true"||e.getAttribute("data-is-disabled")==="true"),ve=e=>{let t=e.closest(Ee);if(!t)return!0;let n=!1;if(!t.getAttribute("href")&&!t.dataset.linkUrl){let r=t.closest("[data-module-id]");r&&r.getAttribute("data-module-track-clicks")!=="true"&&(n=!0)}return n},Le=async e=>{document.readyState==="complete"?e():document.addEventListener("readystatechange",t=>{t.target.readyState==="complete"&&e()})},ye=async e=>{w(e)||(globalThis.mfeEventMapping={...globalThis.mfeEventMapping,...e})},_=(e,t,n)=>{let r=Array.isArray(e)?e:[e],o;return r.filter(Boolean).find(s=>(o=s.dataset[t]||s.getAttribute(t),o)),o||n};var bt="d",Et='[href*="?d="], [href*="&d="]',vt=[".salesforce.com",".sfdcdigital.com",".mulesoft.com"],Pe=async e=>{let t=e.target;if(!t.matches(Et)||t.matches("pbc-button")&&t.getAttribute("is-disabled")==="true")return;let n=new URL(t.href||t.dataset.href||"",location.origin),r=e.currentTarget||{};if(!vt.some(B=>(r.hostname||n.hostname).includes(B)))return;let o=u.page.pagename,s=Y(g(bt,n.search)),a={event:"custEv_internalDriverClick",eventCat:"Internal Driver Click",eventAct:o+"|"+s,eventLbl:n.origin+n.pathname,eventVal:0,nonInteraction:0,internalDrivers:o+"|"+s,internalDriverId:s,calltoActionText:t.innerText?t.innerText.trim():t.label||""};K(t,E,a),e.stopPropagation()};document.addEventListener("click",Pe);var Lt=e=>{let t={},n=e.closest("a[href], pbc-button[data-link-url], select");return n&&(t={url:n.getAttribute("href")||""},e&&e.matches("img")?(t.text=n.getAttribute("aria-label")||e.getAttribute("alt"),t.type="image"):e instanceof HTMLSelectElement?(t.text=e.options[e.selectedIndex].text,t.type="dropdown",t.elementType=ke(e)):(t.text=_([e,n],"linkText",e.innerText),t.type=_([e,n],"linkType","text"))),t&&t.url&&(t.internalDriver=g("d",t.url),t.elementType=_([e,n],"elementType",ke(e))),t},yt=e=>{let t={},n=e?.detail?.target?e.detail.target:e.target,r=n&&n.closest("[data-module-id]");if(r){t=U(r.dataset);let o=Lt(n);o&&Object.keys(o).length>0&&(t.link=o)}return t},ke=e=>{switch(e.nodeName.toLowerCase()){case"img":return"image";case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"headline link";case"button":return"button";case"pbc-button":return e.dataset.linkType==="text"?"text link":"button";case"select":return"text";default:return"text link"}},P=e=>{if(!e)return;e.personalization&&e.personalization.contentzone&&ue.then(n=>n.setCookie("pbc",e.personalization,0,btoa));let t=new CustomEvent(E,{bubbles:!0,composed:!0,detail:{event:"custEv_contentClick",blade:{...e}}});document.dispatchEvent(t)},O=e=>{let t=e.detail||e,n=t.target||e.target;if(e.type==="click"&&(M(n)||ve(n)))return{};let r=t.currentTarget||e.currentTarget;!r?.dataset?.bladeId&&n&&(r=n.closest("[data-blade-id]")||n?.ownerDocument?.activeElement?.parentElement);let o={...v(r.dataset),...T(r),module:yt(e)};return t.personalization&&t.personalization.contentzone&&(o.personalization=t.personalization),o},Te=e=>{let t=O(e),n=t?.module;n&&Object.keys(n).length>0&&P(t)};document.querySelectorAll("[data-blade-id]").forEach(e=>{e.addEventListener("click",Te)});document.querySelectorAll("select[data-module-id]").forEach(e=>{e.addEventListener("change",Te)});var q,Pt="custEv_contentImpression",xe={},G=e=>{e&&e.position&&(xe[e.position]=e)},A=e=>xe[e],kt=async(e,t)=>{e&&t&&t.target&&(xt(t.target),q.unobserve(t.target))},Tt=async()=>{let e={root:null,threshold:.1};q=new IntersectionObserver(t=>{t.forEach(n=>kt(n.intersectionRatio>0,n))},e),document.querySelectorAll("[data-blade-position]").forEach(t=>q.observe(t))},xt=async e=>{let t=e.dataset;if(!t.bladePosition)return;let n=A(t.bladePosition);n||(n={...v(t),...T(e),modules:k(e)});let r=new CustomEvent(E,{bubbles:!0,composed:!0,detail:{event:Pt,blade:n}});document.dispatchEvent(r)};Le(Tt);var Me="www_track",Mt=e=>{let t=e.target;if(t.checked&&t.dataset.filterGroupLabel&&t.dataset.filterLabel){let n=new CustomEvent(Me,{bubbles:!0,composed:!0,detail:{event:"custEv_filterApplied",filter:{type:t.dataset.filterGroupLabel,value:t.dataset.filterLabel}}});document.dispatchEvent(n)}},_t=(e,t)=>{let n=window.location.href;if(!n)return;let[r,o,s]=n.split(/[\?#]/);typeof r>"u"&&(r=""),typeof o>"u"&&(o=""),typeof s>"u"&&(s="");let a=new URLSearchParams(o);return a.set("page",e.toString()),a.set("perPage",t.toString()),r+"?"+a.toString()+s},Ot=e=>{let t=e.target;if(!t)return;let n=t;if(t.nodeName!=="A"&&(n=t.closest("a")),!n||!n.dataset||!n.dataset.page)return;let r=parseInt(n.dataset.pagePerPage),o=parseInt(n.dataset.page),s=n.dataset.pageLinkText,a=_t(o,r);document.dispatchEvent(new CustomEvent(Me,{detail:{event:"custEv_contentClick",elementName:"pagination:index",elementType:"pagination",link:{text:s,url:a}}}))};var _e=[],V=e=>{let t;if(e){if(e.eventData&&e.source==="trailhead"){let n=document.querySelectorAll(`#${e.id}`);if(!n.length)return;Array.from(n).some(r=>{let o=r.closest("[data-blade-position]"),s=o.dataset.bladePosition||"";return _e.includes(s)||(t=o,["error","rendered"].includes(e.type)&&_e.push(s)),!!t})}else(e.element||e.id)&&(t=document.querySelector(`[data-blade-id="${e.id}"]`));if(t)return t}},z=e=>{let t=V(e);if(!t)return;x(t,"rendered");let n=v(t.dataset),r={name:e.name||n.name,source:e.source||n.source,variant:e.variant||n.variant,position:n.position,state:"rendered"};e.bladeId&&(r.id=e.bladeId),e.eventData?r.modules=Array.from(e.eventData.content||[]).reduce((o,s)=>(s.links instanceof Object&&!(s.links instanceof Array)&&(s.links=[s.links]),o.push(s),o),[]):r.modules=k(t),e.personalization&&(r.personalization=e.personalization),G(r)},Oe=e=>{let t=V(e);throw t?(e.source&&$(t,e.source),x(t,"error")):e.source=e.source??"blade render",{name:"MFE Error",message:`${e&&Object.keys(e).length?JSON.stringify(e):""}`,toString:()=>`${(void 0).name}: ${(void 0).message}`}},Ae=e=>{try{let t=document.getElementById(e.id),n=t?.closest("[data-blade-position]"),r=A(n.dataset.bladePosition||"");delete r.modules;let o=Object.assign({},e.eventData.content[0]);return o.link=o.links,delete o.links,r.module=o,r}catch{return e.eventData||{}}},Be=e=>{if(!e||!Object.keys(e).length)return;if(e.eventData)return P(Ae(e));if(M(e.eventObj.target))return;let t=O(e);t?.module?.link?.url&&P(t)},De=e=>{let t=V(e);t&&(e.source&&$(t,e.source),x(t,"loading"))};ye({render:z,rendered:z,click:Be,error:Oe,loading:De});var Pn={render:z,click:Be,error:Oe,loading:De,parseMfeClick:Ae};export{A as getBladeImpression,O as processClickEvent,G as setBladeImpression,Pn as testable,P as trackBladeClick,Pe as trackCallback,Mt as trackFilterClickEvent,Ot as trackPaginationClickEvent};
//# sourceMappingURL=comp-data.js.map
