/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings,once){"use strict";Drupal.behaviors.dataLayerPush={attach:function(context,settings){if($("#block-da-vinci-code-minifooter").length)$(once("field-cta-url",".field--name-field-cta-button-url a")).click(function(){var eventCategory=$(this).text();dataLayer.push({event:"customEvent",eventCategory:"ctas",eventAction:eventCategory.toLowerCase(),eventLabel:"top super footer"});});if($(".darkmode-toggle").length){let darkModeStatus=window.matchMedia("(prefers-color-scheme: dark)").matches;if("theme" in localStorage)darkModeStatus=localStorage.theme==="false"?false:true;dataLayer.push({event:"custom_event",event_name:"darkmode_setting",darkmode_setting:darkModeStatus===false?"Light":"Dark"});}$(once("language-link","a.language-link")).click(function(){var lang=$(this).text();var url=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"header",eventAction:"change language - "+lang.toLowerCase(),eventLabel:url});});$(once("inside-menu","a.inside-menu-link")).click(function(){var eventCategory=$(this).find(".inside-menu-title").text();dataLayer.push({event:"customEvent",eventCategory:"ctas",eventAction:eventCategory.toLowerCase(),eventLabel:"header"});});if($(".footer-top").length)$(once("footer-top",".footer-top .container ul li a")).click(function(){var url=Drupal.url($(this).attr("href")).substring(1);let tabName=$(this).parents("ul.nav").siblings("h2").children("button").children("span").remove().end().text();dataLayer.push({event:"customEvent",eventCategory:"superfooter",eventAction:"link click",eventLabel:url});dataLayerDriver({event_name:"super_footer",tab_name:tabName,link_url:url});});if($("#block-da-vinci-code-globalmenu").length)$(".menu--global-menu a").one("click",function(){var countryName=$(this).text();var url=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"header",eventAction:"change country - "+countryName.toLowerCase(),eventLabel:""});dataLayerDriver({event_name:"country_select",change_country:Drupal.checkPlain(countryName),action_type:"open"});});if($("#blocktabs-search_results_tabs .view-content").length){var searchedTerm=$("#views-exposed-form-global-search-global-search-block-all .form-text").val();$(once("search-title",".views-field-title a")).click(function(){var addressValue=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"site search",eventAction:addressValue,eventLabel:searchedTerm.toLowerCase()});});}if($("#blocktabs-search_results_tabs").length){let dataStore=window.sessionStorage;let currentTab=0;try{currentTab=dataStore.getItem("blocktabs-active-tab");if(currentTab==null)currentTab=0;}catch(e){}let emptySearchTabMapping=[".view-display-id-global_search_block_all .view-empty",".view-display-id-global_search_block_news .view-empty",".view-display-id-global_search_block_documents .view-empty","#flickrcontainer .empty-tab","#youtube-search-block .empty-tab"];if(!$("#blocktabs-search_results_tabs").hasClass("gtm-processed")){if($(emptySearchTabMapping[currentTab]).length){let searchTerm=$("#views-exposed-form-global-search-global-search-block-all .form-text").val();dataLayer.push({event:"customEvent",eventCategory:"site search",eventAction:"no results",eventLabel:searchTerm.toLowerCase()});}$("#blocktabs-search_results_tabs").addClass("gtm-processed");}}if($(".view-faq-search .view-content").length){var quicksearchTerm=$("#views-exposed-form-faq-search-faq-search-block .form-type-textfield input").val();$(once("faq-search",".views-field-title a")).click(function(){var addressValue=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"ask nestle search",eventAction:addressValue,eventLabel:quicksearchTerm.toLowerCase()});});let viewHead=$(".view-header p").text();viewHead=Drupal.checkPlain(viewHead);let searchCount="";let regex=/of (\d+) results/;let match=viewHead.match(regex);if(match)searchCount=parseInt(match[1],10);dataLayerDriver({event_name:"ask_nestle_search",search_term:Drupal.checkPlain(quicksearchTerm),action_type:"search",number_of_results:searchCount});}$(once("dataLayerPush","#views-exposed-form-faq-search-faq-search-block .form-submit")).click(function(){setTimeout(function(){if($(".view-faq-search .view-empty").length){var quicksearchTerm=$("#views-exposed-form-faq-search-faq-search-block .form-type-textfield input").val();dataLayer.push({event:"customEvent",eventCategory:"ask nestle search",eventAction:"no results",eventLabel:quicksearchTerm.toLowerCase()});}},1000);});if($(".social-media-sharing").length)$(once("social-share",".social-media-sharing a")).click(function(){var sharelink=$(this).attr("title");var titlename=$("h1.page-header").text();if(titlename===null||titlename==="")titlename=$("article h1 > span").text();dataLayer.push({event:"customEvent",eventCategory:"social media share",eventAction:sharelink.toLowerCase(),eventLabel:titlename.toLowerCase()});});if($(".contact-us-confirmation").length){if(!$(".contact-us-confirmation").hasClass("gtm-processed"))dataLayer.push({event:"customEvent",eventCategory:"contact us",eventAction:"submission"});$(".contact-us-confirmation").addClass("gtm-processed");}if($(".unsubscribe-confirmation").length){if(!$(".unsubscribe-confirmation").hasClass("gtm-processed")){var unsubscribe_msg=$(".webform-confirmation__message").html();if(unsubscribe_msg.indexOf("You have now been unsubscribed")!=-1)dataLayer.push({event:"customEvent",eventCategory:"sign up",eventAction:"unsubscribe"});}$(".unsubscribe-confirmation").addClass("gtm-processed");}if($(".sign-up-confirmation").length){if(!$(".sign-up-confirmation").hasClass("gtm-processed")){var signup_msg=$(".webform-confirmation__message").html();if(signup_msg.indexOf("You have successfully updated your subscription")!=-1)dataLayer.push({event:"customEvent",eventCategory:"sign up",eventAction:"subscribe"});}$(".sign-up-confirmation").addClass("gtm-processed");}if($(".view-documents-reports").length)$(once("document-report","a.doc-link")).click(function(){var file=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"downloads",eventAction:file});});$(once("video-lazy-play",".video-embed-field-lazy-play")).on("click",function(){if(typeof ytTracker!=="undefined"&&ytTracker!==null)setTimeout(function(){ytTracker.init();},200);});$(once("rss-track",".trackRSS")).click(function(){var linkText=$(this).find("span").text();var linkUrl=$(this).attr("href");linkUrl=Drupal.url(linkUrl).substring(1);dataLayer.push({event:"custom_event",event_name:"rss_interaction",action_type:"open",link_url:linkUrl});dataLayer.push({event:"customEvent",eventCategory:"rss",eventAction:linkText.toLowerCase()});});$(once("file-link",".file-link a")).click(function(){var file=$(this).attr("href");dataLayer.push({event:"customEvent",eventCategory:"downloads",eventAction:file});});if($("#block-da-vinci-code-mainnavigation-2").length)$(once("dataLayerPush","#block-da-vinci-code-mainnavigation-2 .menu")).find(".menu-item:not(.menu-item--expanded) > a:not([class]), \
          .menu-item--expanded > .menu-dropdown .field--name-field-goto-link > a:not([class])").click(function(){var clickText=$(this).text();var currentUrl=window.location.href;dataLayer.push({event:"customEvent",eventCategory:"Menu Click",eventAction:`${clickText}`,eventLabel:`${currentUrl}`});});if($("#block-da-vinci-code-secondarymenu").length)$(once("dataLayerPush","#block-da-vinci-code-secondarymenu .menu")).find(".menu-item:not(.menu-item--expanded) > a:not([class]), \
          .menu-item--expanded > .menu-dropdown .field--name-field-goto-link > a:not([class])").click(function(){var clickText=$(this).text();var currentUrl=window.location.href;dataLayer.push({event:"customEvent",eventCategory:"Menu Click",eventAction:`${clickText}`,eventLabel:`${currentUrl}`});});if($("#block-headerpersistentsubmenu--8").length)$(once("dataLayerPush","#block-headerpersistentsubmenu--8 .menu")).find(".menu-item > a").click(function(){var clickText=$(this).text();var currentUrl=window.location.href;dataLayer.push({event:"customEvent",eventCategory:"Menu Click",eventAction:`${clickText}`,eventLabel:`${currentUrl}`});});function dataLayerDriver(dataObj){window.dataLayer=window.dataLayer||[];let dataLayerObj={event:"custom_event",...dataObj};dataLayer.push(dataLayerObj);}function extractNavItem(element){let tabName="";let navLocation="";if(element.parents(".region-header-below").length){tabName=element.parents(".menu-level-0").children(".selected").children("a").text()||element.text();tabName=Drupal.checkPlain(tabName);navLocation="header";}else{if(element.parents(".footer-nav").length){tabName=element.parents("ul.nav").siblings("h2").children("button").children("span").remove().end().text();tabName=Drupal.checkPlain(tabName);navLocation="footer";}}let linkUrl=Drupal.url(element.attr("href")).substring(1);dataLayerDriver({event_name:"nav_interaction",tab_name:tabName,nav_location:navLocation,link_url:linkUrl});}const menuItemSelector=$(".region-header-below, .footer-nav").find("a").not(".menu-item--expanded > a");$(once("dataLayer",menuItemSelector)).on("click",function(){extractNavItem($(this));});if($(".view-display-id-block_events").length){const calenderItem=$(".view-display-id-block_events table .views-field-field-add-to-calendar");$(once("calendar",calenderItem)).on("click",function(){let eventSelected="";let tr=$(this).closest("tr");eventSelected=tr.find(".views-field-title a").text().trim();eventSelected=Drupal.checkPlain(eventSelected);if(eventSelected!="")dataLayerDriver({event_name:"calendar_interaction",event_selected:eventSelected,action_type:"open"});});}$(once("dataLayerPush",".view-display-id-page_search",context)).each(function(){setTimeout(function(){let viewHead=$(".view-display-id-page_search .view-header").text();viewHead=Drupal.checkPlain(viewHead);let jobCount="";let regex=/of (\d+) jobs/;let match=viewHead.match(regex);if(match)jobCount=parseInt(match[1],10);let currentURL=window.location.href;let urlSearchParams=new URLSearchParams(currentURL);let sortBefCombineValue=urlSearchParams.get("sort_bef_combine");let sortValue="most relevant";if(sortBefCombineValue=="created_DESC")sortValue="most recent";const searchBlock=$(".block-views-exposed-filter-blocksearch-search-filter-block");let keyword=searchBlock.find(".form-item-keyword input").val();let country=$("#edit-country-custom-box").text();let location=$("#edit-location-custom-box").text();let careerArea=$("#edit-career-area-custom-box").text();if(typeof keyword!=="undefined")dataLayerDriver({event_name:"job_search",search_term:Drupal.checkPlain(keyword),action_type:"search",number_of_results:jobCount,filter:Drupal.checkPlain(keyword),sort:sortValue,keyword:Drupal.checkPlain(keyword),country_or_region:Drupal.checkPlain(country),location:Drupal.checkPlain(location),career_area:Drupal.checkPlain(careerArea)});},200);});$(once("dataLayerPush","#views-exposed-form-global-search-global-search-block-all",context)).each(function(){if($(".searchresults").length)setTimeout(function(){fetchOnSiteSearch();},200);});$(once("dataLayerPush","#blocktabs-search_results_tabs li.ui-tabs-tab a")).on("click",function(){setTimeout(function(){fetchOnSiteSearch();},200);});$(once("dataLayerPush",".searchresults input.facets-checkbox")).on("click",function(){let ajaxCompleteFlag=false;$(document).ajaxComplete(function(event,xhr,settings){if(!ajaxCompleteFlag)if(settings.url.indexOf("searchresults")!==-1){fetchOnSiteSearch();ajaxCompleteFlag=true;}});});function fetchOnSiteSearch(){var searchedTerm=$("#views-exposed-form-global-search-global-search-block-all .form-text").val();let commaSeparatedFilters="";$('.facets-widget-checkbox li input[type="checkbox"]:checked').each(function(){let checkedFilter=$(this).siblings("label").children(".facet-item__value").text();commaSeparatedFilters+=checkedFilter+",";});if(commaSeparatedFilters.endsWith(","))commaSeparatedFilters=commaSeparatedFilters.slice(0,-1);let tab_id=$("li.ui-state-active").children("a").attr("id");const selectedDiv=$("div[aria-labelledby='"+tab_id+"']");let viewHead=selectedDiv.find(".view-header p").text();viewHead=Drupal.checkPlain(viewHead);let searchCount="";let regex=/of (\d+) results/;let match=viewHead.match(regex);if(match)searchCount=parseInt(match[1],10);let queryParams=get_query();let sortValue="most relevant";if(queryParams.sort_by=="changed")sortValue="last updated";let tab=$("li.ui-state-active").children("a").text().trim();tab=tab.replace(/\s\(\d+\)/,"");dataLayerDriver({event_name:"onsite_search",search_term:searchedTerm,action_type:"search",number_of_results:searchCount,filter:Drupal.checkPlain(commaSeparatedFilters),sort:sortValue,tab:Drupal.checkPlain(tab)});}function get_query(){var url=Drupal.url(document.location.href).substring(1);var qs=url.substring(url.indexOf("?")+1).split("&");for(var i=0,result={};i<qs.length;i++){qs[i]=qs[i].split("=");result[qs[i][0]]=decodeURIComponent(qs[i][1]);}return result;}if($("#views-exposed-form-article-list-block-press-releases").length)$(once("press-release-search","#views-exposed-form-article-list-block-press-releases .form-submit")).on("click",function(){let searchTerm=$('input[name="title"]').val();let inputString=$(".attachment-before").text();inputString=Drupal.checkPlain(inputString);let match=inputString.match(/\d+/);let resultCount="";if(match)resultCount=parseInt(match[0],10);let selectElement=$('select[name="field_topic_target_id"]');let selectedOption=selectElement.find("option:selected");let selectedOptionText=selectedOption.text();selectedOptionText=Drupal.checkPlain(selectedOptionText);let yearSelectElement=$('select[name="year"]');let yearSelectedOption=yearSelectElement.find("option:selected");let yearSelectedOptionText=yearSelectedOption.text();yearSelectedOptionText=Drupal.checkPlain(yearSelectedOptionText);let typeSelectElement=$('select[name="field_ad_hoc_announcement_for_us_value"]');let typeSelectedOption=typeSelectElement.find("option:selected");let typeSelectedOptionText=typeSelectedOption.text();typeSelectedOptionText=Drupal.checkPlain(typeSelectedOptionText);dataLayerDriver({event_name:"press_release_search",search_term:searchTerm,action_type:"search",number_of_results:resultCount,topic:selectedOptionText,year:yearSelectedOptionText,type:typeSelectedOptionText});});$(once("dataLayerPush",".medianews-archive .field-components-container",context)).each(function(){setTimeout(function(){fetchNewsSearch();},200);});if($(".medianews-archive").length)$(once("dataLayerPush",".new-topics li input, .news-type li input")).on("click",function(){setTimeout(function(){fetchNewsSearch();},1000);});function fetchNewsSearch(){let searchTerm=Drupal.checkPlain($('input[name="keyword"]').val());let inputString=Drupal.checkPlain($(".view-header p").text());let regex=/of (\d+) results/;let match=inputString.match(regex);let resultCount="";if(match)resultCount=parseInt(match[1],10);let currentURL=Drupal.url(window.location.href).substring(1);let urlSearchParams=new URLSearchParams(currentURL);let dateValue=urlSearchParams.get("individual_news_date_range");let date="All dates";if(dateValue=="past_month")date="Past Month";else if(dateValue=="past_year")date="Past Year";else{if(dateValue=="custom_range")date="Custom Range";}let commaSeparatedValues="";$('.news-type li input[type="checkbox"]:checked').each(function(){let checkedType=$(this).siblings("label").find(".facet-item__value").text();commaSeparatedValues+=checkedType+",";});if(commaSeparatedValues.endsWith(","))commaSeparatedValues=commaSeparatedValues.slice(0,-1);let commaSeparatedFilters="";$('.new-topics li input[type="checkbox"]:checked').each(function(){let checkedFilter=$(this).siblings("label").find("span.facet-item__value").text();commaSeparatedFilters+=checkedFilter+",";});if(commaSeparatedFilters.endsWith(","))commaSeparatedFilters=commaSeparatedFilters.slice(0,-1);dataLayerDriver({event_name:"news_search",search_term:searchTerm,action_type:"search",number_of_results:resultCount,filter:Drupal.checkPlain(commaSeparatedFilters),date,type:Drupal.checkPlain(commaSeparatedValues)});}$(once("dataLayerPush",document)).on("click",".survey-buttons a",function(){let surveyAction="no";if($(this).hasClass("survey-yes"))surveyAction="yes";dataLayerDriver({event_name:"bowen_craggs_survey",survey_pop_up:"TRUE",survey_action:surveyAction});});if($(".social-share-container").length)$(once("social-share-container",".social-share-container a.social-share-item")).click(function(){let socialNetwork=$(this).find("svg.da-vinci-code-icon").attr("aria-label");let nodeId=$("div.region-content").find("article").attr("data-history-node-id");let titleName=$("h1.page-header__title").text();const moduleInfo=drupalSettings.module_info.social_media;if(titleName===null||titleName==="")titleName=$("article h1 > span").text();var bodyClass=$("body").attr("class");var classesArray=bodyClass.split(" ");var extractedString="";for(var i=0;i<classesArray.length;i++)if(classesArray[i].indexOf("page-node-type-")===0){extractedString=classesArray[i].substring("page-node-type-".length);break;}dataLayer.push({event:"share",event_name:"share",social_network:Drupal.checkPlain(socialNetwork),content_id:Drupal.checkPlain(nodeId),content_name:Drupal.checkPlain(titleName),content_type:Drupal.checkPlain(extractedString),recipe_id:Drupal.checkPlain(nodeId),recipe_name:Drupal.checkPlain(titleName),item_id:Drupal.checkPlain(nodeId),item_name:Drupal.checkPlain(titleName),module_id:"social_media",module_name:"Social media share",module_version:moduleInfo});});if($(".webform-submission-contact-us-form").length){const webformInfo=drupalSettings.module_info.webform;$(once("webform-contact-us","form.webform-submission-contact-us-form")).on("submit",function(){setTimeout(function(){var selectedDiv=$("div.form-item-what-would-you-like-to-contact-us-about-today-.checked");let topic=selectedDiv.find("label.control-label").text().trim();if($(".webform-submission-contact-us-form").find(".validation-error").length>0){let validationError=$(".webform-submission-contact-us-form").find(".validation-error:first");let errorMessage=validationError.find("label.error").text().trim();dataLayer.push({event:"contact_error",event_name:"contactus_submit_error",form_id:"contact_us",form_name:"Leave us a message",form_type:"contact_us",error_code:"validation_error",error_name:Drupal.checkPlain(errorMessage),module_id:"webform",module_name:"Webform",module_version:webformInfo});}else dataLayer.push({event:"contact_interaction",event_name:"contactus_submit",form_id:"contact_us",form_name:"Leave us a message",form_type:"contact_us",topic:Drupal.checkPlain(topic),module_id:"webform",module_name:"Webform",module_version:webformInfo});},200);});$(once("dataLayerPush","#edit-what-would-you-like-to-contact-us-about-today-")).on("click",function(){$(once("dataLayerPush","form.webform-submission-contact-us-form .form-item-what-would-you-like-to-contact-us-about-today-")).on("change",function(){setTimeout(function(){var selectedDiv=$("div.form-item-what-would-you-like-to-contact-us-about-today-.checked");let topic=selectedDiv.find("label.control-label").text().trim();dataLayer.push({event:"contact_interaction",event_name:"contactus_topic_changed",form_id:"contact_us",form_name:"Leave us a message",form_type:"contact_us",topic:Drupal.checkPlain(topic),module_id:"webform",module_name:"Webform",module_version:webformInfo});},200);});});}if($("form.webform-submission-sign-up-form").length)$(once("newsletter-submit","form.webform-submission-sign-up-form .form-submit")).on("click",function(){const webformInfo=drupalSettings.module_info.webform;setTimeout(function(){if($(".webform-submission-sign-up-form").find(".validation-error").length<=0)dataLayer.push({event:"newsletter_submit",event_name:"newsletter_submit",form_id:"sign_up",form_name:"Sign me up",form_type:"sign_up",module_id:"webform",module_name:"Webform",module_version:webformInfo});},200);});if($('input[type="file"]').length>0){const webformInfo=drupalSettings.module_info.webform;$(once("data-upload",'input[type="file"]')).on("change",function(){let element=$(this);setTimeout(function(){let formElement=element.closest("form");let formId=formElement.attr("id");let dataSelector=formElement.attr("data-drupal-selector");dataSelector=dataSelector.replace("webform-submission-","");dataSelector=dataSelector.replace(/-paragraph.*$/,"");if(!$(".file-upload-js-error").length)dataLayer.push({event:"drupal_upload_submit",event_name:"drupal_upload_submit",form_id:Drupal.checkPlain(formId),form_name:Drupal.checkPlain(dataSelector),form_type:Drupal.checkPlain(dataSelector),module_id:"webform",module_name:"Webform",module_version:webformInfo});else{if($(".file-upload-js-error").length){const errorMsg=$(".file-upload-js-error").text();dataLayer.push({event:"drupal_upload_error",event_name:"drupal_upload_error",form_id:Drupal.checkPlain(formId),form_name:Drupal.checkPlain(dataSelector),form_type:Drupal.checkPlain(dataSelector),module_id:"webform",module_name:"Webform",module_version:webformInfo,error_code:"validation_error",error_name:Drupal.checkPlain(errorMsg)});}}},200);});}if($(".darkmode-toggle").length)$(once("dark-mode-toggle","input#dark-mode-switch")).on("change",function(){let darkModeState="";if($(this).is(":checked"))darkModeState="On";else darkModeState="Off";dataLayerDriver({event_name:"darkmode_toggle",darkmode_state:darkModeState});});if($(".page-node-type-story .field--name-field-media-audio-file audio").length){const audio=$(".field--name-field-media-audio-file audio");let action="";let eventName="";let contentTitle=$("h1.page-header__title").text().trim();contentTitle=Drupal.checkPlain(contentTitle);$(once("text-to-speech",audio)).on("play pause ended",function(e){switch(e.type){case "play":action="play";eventName="text_to_speech";textToSpeechDataLayer(eventName,action,contentTitle);break;case "pause":action="pause";eventName="text_to_speech";textToSpeechDataLayer(eventName,action,contentTitle);break;case "ended":action="ended";eventName="text_to_speech_completion";textToSpeechDataLayer(eventName,action,contentTitle);break;}});}function textToSpeechDataLayer(eventName,action,contentTitle){dataLayerDriver({event_name:eventName,action_type:action,content_title:contentTitle});}}};})(jQuery,Drupal,drupalSettings,once);;
(function($,Drupal){"use strict";Drupal.behaviors.breadcrumbTweaks={attach:function(context){var $elBreadcrumbs=$(".breadcrumb",context);var windowWidth=$(window).width();$elBreadcrumbs.each(function(index){var breadcrumbWidth=0;$(this).find("li").each(function(){breadcrumbWidth+=$(this).outerWidth(true);});if(breadcrumbWidth>windowWidth)$(this).addClass("mask-right");});$(".breadcrumb",context).scroll(function(){var $elem=$(this);var scrollValue=$(this).scrollLeft();if(scrollValue>0)$(this).addClass("mask-left");else $(this).removeClass("mask-left");var newScrollLeft=$elem.scrollLeft(),width=$elem.outerWidth(),scrollWidth=$elem.get(0).scrollWidth;if(scrollWidth-newScrollLeft==width){$(this).addClass("end");$(this).removeClass("mask-right");}else{$(this).removeClass("end");$(this).addClass("mask-right");}});}};})(jQuery,Drupal);;
(function($,Drupal){"use strict";function searchTermLength(e){var $el=$(this),value=$el.val(),$form=$el.closest("section.views-exposed-form"),$group=$el.closest(".input-group"),$container=$el.closest(".header-wrapper, .paragraph--type--dsu-c-block"),$close=$(".cross-btn",$group);if($group.length<1){$el.wrap('<div class="input-group"></div>');$group=$el.closest(".input-group");}if(value.length>0){if($container.length>0)if($close.length==0)$group.append('<button type="reset" class="cross-btn" aria-label="'+Drupal.t("Clear")+'"></button>');$form.addClass("search-term");}else{$form.removeClass("search-term");$close.remove();}switch(e.type){case "blur":$form.removeClass("search-in-focus");break;default:$form.addClass("search-in-focus");}}Drupal.behaviors.searchTweaks={attach:function(context){var $searchInput=$('.block-views-exposed-filter-blockglobal-search-global-search-block-all input[name="keyword"]',context);$searchInput.on("focus blur input",searchTermLength);$searchInput.blur();$(context).on("click","form .cross-btn",function(e){e.preventDefault();var $this=$(this),$form=$this.closest("form"),$input=$('input[name="keyword"]',$form);$input.val("").blur();});}};})(jQuery,Drupal);;
(($)=>{function calculateWrapHeight(){$(".view-profile-list .views-row").each((_,w)=>{var ih=$(w).find("img").height();$(w).find(".board-collapsed").height(ih);});}function debounce(fn,ms){let timer;return function(...args){clearTimeout(timer);timer=setTimeout(()=>{fn(...args);},ms);};}$(window).on("load resize scroll",debounce(function(){calculateWrapHeight();},0));$(".tabs-full-page-container .slick-tabs li.taber a").on("click",debounce(function(){calculateWrapHeight();},400));$(()=>{calculateWrapHeight();function toggleCard(e){const target=$(e.target);if(target.hasClass("board-expand").length||target.closest(".board-expand").length||target.closest(".views-row").length)return;$(".board-collapsed.active").each((_,board)=>{$(board).slideToggle();$(board).toggleClass("active");$(board).closest(".board-bg-active").toggleClass("board-bg-active");});}$(document).click(function(e){toggleCard(e);});$(".tabs-full-page-container .slick-tabs li.taber a").on("click",function(e){toggleCard(e);});$(".board-info").each((_,info)=>{const btn=$(info).find(".board-expand");const collapsed=$(info).find(".board-collapsed");btn.on("click keydown",function(e){if(![1,13,32].includes(e.which))return;collapsed.slideToggle();collapsed.toggleClass("active");calculateWrapHeight();$(".board-collapsed.active").each((_,board)=>{if($(e.target).parents(".board-info").get(0)===$(board).parents(".board-info").get(0))return;$(board).slideToggle();$(board).toggleClass("active");$(board).closest(".board-bg-active").toggleClass("board-bg-active");});if($(this).parent().hasClass("board-bg-active")){$(this).parent().removeClass("board-bg-active");$(this).next().find("a").each((_,link)=>{$(link).attr("tabindex","-1");});}else{$(this).parent().addClass("board-bg-active");$(this).next().find("a").each((_,link)=>{$(link).removeAttr("tabindex");});}});});$(".board-content").each((_,board)=>{$(board).find("a").each((_,link)=>{$(link).attr("tabindex","-1");});});});})(jQuery);;
(function($,Drupal,once){"use strict";Drupal.behaviors.externalLink={attach:function(context){if(Drupal.extlink)setTimeout(function(context){$(".field--type-text-long, .field--name-field-summary-text",context).find("span.extlink-nobreak").has("> .fa-ext.extlink").attr("role","link");},0);}};})(jQuery,Drupal,once);;
(function($,Drupal,once){"use strict";Drupal.behaviors.mosiac_default_topic={attach:function(context,settings){var isIE=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g);$(".form-item-field-topic-target-id-1 select").on("change",function(){$(".form-item-field-topic-target-id input").attr("checked",false);});function sanitizeInput(input){return input.replace(/<(|\/|[^>\/bi]|\/[^>bi]|[^\/>][^>]+|\/[^>][^>]+)>/g,"");}$(once("mosaic-pager",".view-id-ln_c_mosaic .pager .pager__item .counter")).before("<span class='arrow'></span>");$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio input:checked").closest(".form-type-radio").addClass("is-checked");$(once("mosaic-browse-tag","#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags",context)).on("click",function(){var simpleRegExp=/^#topic\/[0-9]*/;var urlParams=sanitizeInput(window.location.hash);var match=simpleRegExp.exec(urlParams);if(match!=null){var topic_id=match[0].split("/");if($(".mosaic-mobile").css("display")=="none"){$("input[name=field_topic_target_id][value='"+topic_id[1]+"']").prop("checked","checked");$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio input:checked").closest(".form-type-radio").addClass("is-checked");}else{if($(".mosaic-mobile").css("display")=="block")$('select[id*="edit-field-topic-target-id"].form-select').val(topic_id[1]);}$('button[id*="edit-submit-ln-c-mosaic"]').click();$(document).ajaxComplete(function(event,xhr,settings){$(".view-ln-c-mosaic .fieldset-wrapper").css("display","block");$('div[id*="edit-field-story-category-target-id"] .form-type-radio input[type="radio"]').removeAttr("checked");$('div[id*="edit-field-story-category-target-id"] .form-type-radio').removeClass("is-checked");});}else{$('div[id*="edit-field-story-category-target-id"] .form-type-radio input[type="radio"]').removeAttr("checked");$('div[id*="edit-field-story-category-target-id"] .form-type-radio').removeClass("is-checked");$('div[id*="edit-field-topic-target-id"] .form-type-radio input[type="radio"]').removeAttr("checked");$('div[id*="edit-field-topic-target-id"] .form-type-radio:eq(1) input[type="radio"]').trigger("click");$('div[id*="edit-field-topic-target-id"] .form-type-radio:eq(1) input[type="radio"]').prop("checked","checked");$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio").removeAttr("checked");}$(document).ajaxComplete(function(event,xhr,settings){$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags-fieldset").show();$("#views-exposed-form-ln-c-mosaic-mosaic-block .close-tag-filter").css("display","block");$('#views-exposed-form-ln-c-mosaic-mosaic-block .mosaic-mobile select[name="field_topic_target_id_1"]').css("display","block");$('div[id*="edit-field-story-category-target-id"] .form-type-radio .is-checked').removeClass("is-checked");$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags").addClass("is-checked");var offsetLeft=$("#views-exposed-form-ln-c-mosaic-mosaic-block .is-checked").offset().left;setTimeout(function(){$("#views-exposed-form-ln-c-mosaic-mosaic-block .mosaic-desktop .filter").scrollLeft(offsetLeft-20);$('div[id*="edit-field-topic-target-id"] .form-type-radio input:checked').focus();},50);});});$(once("mosaic-close-tag-enter","#views-exposed-form-ln-c-mosaic-mosaic-block .close-tag-filter span")).keydown((e)=>{if(e.key=="Enter")$("#views-exposed-form-ln-c-mosaic-mosaic-block .close-tag-filter span").trigger("click");});$(once("mosaic-close-tag","#views-exposed-form-ln-c-mosaic-mosaic-block .close-tag-filter span",context)).on("click",function(){$(this).css("display","none");$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags").removeClass("is-checked");$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags-fieldset").hide();$('#views-exposed-form-ln-c-mosaic-mosaic-block .mosaic-mobile select[name="field_topic_target_id_1"]').css("display","none");});$('div[id*="edit-field-topic-target-id"] .form-type-radio input[type="radio"]').prop("checked",false);$(once("story-category",'div[id*="edit-field-story-category-target-id"] .form-type-radio'),context).on("click",function(){$(document).ajaxComplete(function(event,xhr,settings){$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags-fieldset").hide();$("#views-exposed-form-ln-c-mosaic-mosaic-block .close-tag-filter").css("display","none");$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags").removeClass("is-checked");$('#views-exposed-form-ln-c-mosaic-mosaic-block .mosaic-mobile select[name="field_topic_target_id_1"]').css("display","none");$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio input:checked").closest(".form-type-radio").addClass("is-checked");$('div[id*="edit-field-story-category-target-id"] .form-type-radio input:checked').focus();var offsetLeft=$("#views-exposed-form-ln-c-mosaic-mosaic-block .is-checked").offset().left;setTimeout(function(){$("#views-exposed-form-ln-c-mosaic-mosaic-block .mosaic-desktop .filter").scrollLeft(offsetLeft-20);},50);$('div[id*="edit-field-topic-target-id"] .form-type-radio input[type="radio"]').prop("checked",false);$('select[id*="edit-field-topic-target-id"]').prop("selectedIndex",0);return false;});});$(once("topic-changed",'div[id*="edit-field-topic-target-id"] .form-type-radio')).on("click",function(){$(document).ajaxComplete(function(event,xhr,settings){$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags-fieldset").show();$('div[id*="edit-field-story-category-target-id"] .form-type-radio').removeClass("is-checked");$('div[id*="edit-field-story-category-target-id"] .form-type-radio input:checked').blur();});});$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio input:checked").closest(".form-type-radio").addClass("is-checked");$(once("story-category-target",'div[id*="edit-field-story-category-target-id"] input[type="radio"], div[id*="edit-field-topic-target-id"] input[type="radio"]')).click(function(){var positon=$(document).scrollTop();$('button[id*="edit-submit-ln-c-mosaic"]').trigger("click");if(isIE)$(document).ajaxComplete(function(event,xhr,settings){$("html,body").animate({scrollTop:positon},"fast");return false;});});$(once("story-category",'select[id*="edit-field-story-category-target-id"]')).change(function(){$('select[id*="edit-field-topic-target-id"]').prop("selectedIndex",0);$('button[id*="edit-submit-ln-c-mosaic"]').trigger("click");});$(once("topic-target-change",'select[id*="edit-field-topic-target-id"]')).change(function(){$('select[id*="edit-field-story-category-target-id"]').prop("selectedIndex",0);$('button[id*="edit-submit-ln-c-mosaic"]').trigger("click");});$("#views-exposed-form-ln-c-mosaic-mosaic-block .select-wrapper").removeClass("select-wrapper");$("#views-exposed-form-ln-c-mosaic-mosaic-block .form-type-radio input").on("focus",function(){$(this).parent("label").addClass("label-hover");}).on("blur",function(){$(this).parent("label").removeClass("label-hover");});const lastInputBtn=$('div[id*="edit-field-story-category-target-id"] .form-type-radio input:last');$(once("browse-tag-click",lastInputBtn)).keydown(function(e){e.preventDefault();if(e.which==39)$("#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags").trigger("click");});$(document).ajaxComplete(function(event,xhr,settings){if($(".browse-tags.is-checked").length>0)document.querySelectorAll("fieldset.browse-tags-fieldset input").forEach((ele)=>{if(ele.getAttribute("checked"))ele.focus();});});$('#views-exposed-form-ln-c-mosaic-mosaic-block .browse-tags-fieldset input[type="radio"]').keydown((e)=>{if(e.key=="Enter"){e.preventDefault();if(!e.target.getAttribute("checked"))$(e.target).click();}});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){"use strict";Drupal.behaviors.quotecard={attach:function(context,settings){$(once("quote-block",".quote-block--small-wrapper .field--name-field-quote")).each(function(e){const $this=$(this),$items=$this.children(),numItems=$items.length;var nextLabel=Drupal.t("Next"),prevLabel=Drupal.t("Previous");$items.addClass("quote-carousel__item");$this.addClass("quote-carousel");$this.slick({dots:true,infinite:false,slidesToShow:1,slidesToScroll:1,mobileFirst:true,center:false,arrows:true,adaptiveHeight:false,rtl:$("html").attr("dir")==="rtl",prevArrow:'<button type="button" class="slick-prev"><svg title="'+prevLabel+'" aria-label="'+prevLabel+'" role="img" class="da-vinci-code-icon da-vinci-code-icon--carousel-prev--medium"><use xlink:href="#carousel-prev--medium"></use></svg></button>',nextArrow:'<button type="button" class="slick-next"><svg title="'+nextLabel+'" aria-label="'+nextLabel+'" role="img" class="da-vinci-code-icon da-vinci-code-icon--carousel-next--medium"><use xlink:href="#carousel-next--medium"></use></svg></button>',responsive:[{breakpoint:797,settings:{slidesToShow:3,slidesToScroll:1,adaptiveHeight:false,dots:true,infinite:false,center:false,arrows:true}}]});});$(".tabs-full-page-container .slick-tabs",context).on("click",function(){$(".quote-block--small-wrapper .field--name-field-quote").slick("refresh");});}};})(jQuery,Drupal,once);;
(($)=>{let cachedScrollbarWidth=null;const {max,abs}=Math;const regexHorizontal=/left|center|right/;const regexVertical=/top|center|bottom/;const regexOffset=/[+-]\d+(\.[\d]+)?%?/;const regexPosition=/^\w+/;const _position=$.fn.position;function getOffsets(offsets,width,height){return [parseFloat(offsets[0])*(typeof offsets[0]==='string'&&offsets[0].endsWith('%')?width/100:1),parseFloat(offsets[1])*(typeof offsets[1]==='string'&&offsets[1].endsWith('%')?height/100:1)];}function parseCss(element,property){return parseInt(window.getComputedStyle(element)[property],10)||0;}function getDimensions(elem){const raw=elem[0];if(raw.nodeType===9)return {width:elem.width(),height:elem.height(),offset:{top:0,left:0}};if(!!raw&&raw===raw.window)return {width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};if(raw.preventDefault)return {width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};return {width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}const collisions={fit:{left(position,data){const {within}=data;const withinOffset=within.isWindow?within.scrollLeft:within.offset.left;const outerWidth=within.width;const collisionPosLeft=position.left-data.collisionPosition.marginLeft;const overLeft=withinOffset-collisionPosLeft;const overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;let newOverRight;if(data.collisionWidth>outerWidth)if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0)position.left=withinOffset;else if(overLeft>overRight)position.left=withinOffset+outerWidth-data.collisionWidth;else position.left=withinOffset;else if(overLeft>0)position.left+=overLeft;else if(overRight>0)position.left-=overRight;else position.left=max(position.left-collisionPosLeft,position.left);},top(position,data){const {within}=data;const withinOffset=within.isWindow?within.scrollTop:within.offset.top;const outerHeight=data.within.height;const collisionPosTop=position.top-data.collisionPosition.marginTop;const overTop=withinOffset-collisionPosTop;const overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;let newOverBottom;if(data.collisionHeight>outerHeight)if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0)position.top=withinOffset;else if(overTop>overBottom)position.top=withinOffset+outerHeight-data.collisionHeight;else position.top=withinOffset;else if(overTop>0)position.top+=overTop;else if(overBottom>0)position.top-=overBottom;else position.top=max(position.top-collisionPosTop,position.top);}},flip:{left(position,data){const {within}=data;const withinOffset=within.offset.left+within.scrollLeft;const outerWidth=within.width;const offsetLeft=within.isWindow?within.scrollLeft:within.offset.left;const collisionPosLeft=position.left-data.collisionPosition.marginLeft;const overLeft=collisionPosLeft-offsetLeft;const overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft;const myOffset=data.my[0]==='left'?-data.elemWidth:data.my[0]==='right'?data.elemWidth:0;const atOffset=data.at[0]==='left'?data.targetWidth:data.at[0]==='right'?-data.targetWidth:0;const offset=-2*data.offset[0];let newOverRight;let newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset;}else{if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=myOffset+atOffset+offset;}}},top(position,data){const {within}=data;const withinOffset=within.offset.top+within.scrollTop;const outerHeight=within.height;const offsetTop=within.isWindow?within.scrollTop:within.offset.top;const collisionPosTop=position.top-data.collisionPosition.marginTop;const overTop=collisionPosTop-offsetTop;const overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop;const top=data.my[1]==='top';const myOffset=top?-data.elemHeight:data.my[1]==='bottom'?data.elemHeight:0;const atOffset=data.at[1]==='top'?data.targetHeight:data.at[1]==='bottom'?-data.targetHeight:0;const offset=-2*data.offset[1];let newOverTop;let newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop))position.top+=myOffset+atOffset+offset;}else{if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom)position.top+=myOffset+atOffset+offset;}}}},flipfit:{left(...args){collisions.flip.left.apply(this,args);collisions.fit.left.apply(this,args);},top(...args){collisions.flip.top.apply(this,args);collisions.fit.top.apply(this,args);}}};$.position={scrollbarWidth(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;const div=$('<div '+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>");const innerDiv=div.children()[0];$('body').append(div);const w1=innerDiv.offsetWidth;div[0].style.overflow='scroll';let w2=innerDiv.offsetWidth;if(w1===w2)w2=div[0].clientWidth;div.remove();cachedScrollbarWidth=w1-w2;return cachedScrollbarWidth;},getScrollInfo(within){const overflowX=within.isWindow||within.isDocument?'':window.getComputedStyle(within.element[0])['overflow-x'];const overflowY=within.isWindow||within.isDocument?'':window.getComputedStyle(within.element[0])['overflow-y'];const hasOverflowX=overflowX==='scroll'||(overflowX==='auto'&&within.width<within.element[0].scrollWidth);const hasOverflowY=overflowY==='scroll'||(overflowY==='auto'&&within.height<within.element[0].scrollHeight);return {width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo(element){const withinElement=$(element||window);const isWindow=!!withinElement[0]&&withinElement[0]===withinElement[0].window;const isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;const hasOffset=!isWindow&&!isDocument;return {element:withinElement,isWindow,isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);const within=$.position.getWithinInfo(options.within);const scrollInfo=$.position.getScrollInfo(within);const collision=(options.collision||'flip').split(' ');const offsets={};const target=typeof options.of==='string'?$(document).find(options.of):$(options.of);const dimensions=getDimensions(target);const targetWidth=dimensions.width;const targetHeight=dimensions.height;const targetOffset=dimensions.offset;if(target[0].preventDefault)options.at='left top';const basePosition=$.extend({},targetOffset);$.each(['my','at'],function(){let pos=(options[this]||'').split(' ');if(pos.length===1)pos=regexHorizontal.test(pos[0])?pos.concat(['center']):regexVertical.test(pos[0])?['center'].concat(pos):['center','center'];pos[0]=regexHorizontal.test(pos[0])?pos[0]:'center';pos[1]=regexVertical.test(pos[1])?pos[1]:'center';const horizontalOffset=regexOffset.exec(pos[0]);const verticalOffset=regexOffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[regexPosition.exec(pos[0])[0],regexPosition.exec(pos[1])[0]];});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==='right')basePosition.left+=targetWidth;else{if(options.at[0]==='center')basePosition.left+=targetWidth/2;}if(options.at[1]==='bottom')basePosition.top+=targetHeight;else{if(options.at[1]==='center')basePosition.top+=targetHeight/2;}const atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){let using;const elem=$(this);const elemWidth=elem.outerWidth();const elemHeight=elem.outerHeight();const marginLeft=parseCss(this,'marginLeft');const marginTop=parseCss(this,'marginTop');const collisionWidth=elemWidth+marginLeft+parseCss(this,'marginRight')+scrollInfo.width;const collisionHeight=elemHeight+marginTop+parseCss(this,'marginBottom')+scrollInfo.height;const position=$.extend({},basePosition);const myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==='right')position.left-=elemWidth;else{if(options.my[0]==='center')position.left-=elemWidth/2;}if(options.my[1]==='bottom')position.top-=elemHeight;else{if(options.my[1]==='center')position.top-=elemHeight/2;}position.left+=myOffset[0];position.top+=myOffset[1];const collisionPosition={marginLeft,marginTop};$.each(['left','top'],function(i,dir){if(collisions[collision[i]])collisions[collision[i]][dir](position,{targetWidth,targetHeight,elemWidth,elemHeight,collisionPosition,collisionWidth,collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within,elem});});if(options.using)using=function(props){const left=targetOffset.left-position.left;const right=left+targetWidth-elemWidth;const top=targetOffset.top-position.top;const bottom=top+targetHeight-elemHeight;const feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?'left':left>0?'right':'center',vertical:bottom<0?'top':top>0?'bottom':'middle'};if(targetWidth<elemWidth&&abs(left+right)<targetWidth)feedback.horizontal='center';if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical='middle';if(max(abs(left),abs(right))>max(abs(top),abs(bottom)))feedback.important='horizontal';else feedback.important='vertical';options.using.call(this,props,feedback);};elem.offset($.extend(position,{using}));});};if(!$.hasOwnProperty('ui'))$.ui={};$.ui.position=collisions;})(jQuery);;
(function($,Drupal){'use strict';$(document).on('autocompleteselect','.form-autocomplete',function(e){$(e.target).trigger('change.formUpdated');});$.widget('ui.autocomplete',$.ui.autocomplete,{_search:function(value){this.pending++;Drupal.Ajax.prototype.glyphiconStart(this.element);this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex)this.__response(content);this.pending--;if(!this.pending)Drupal.Ajax.prototype.glyphiconStop(this.element);},this);}});})(jQuery,Drupal);;
(function($,Drupal,drupalSettings,once){"use strict";if(!Drupal.autocomplete)return;var autocomplete={};autocomplete.getSettings=function(input,globalSettings){globalSettings=globalSettings||drupalSettings||{};var settings={auto_submit:false,delay:0,min_length:1,selector:":submit"};var search=$(input).data("search-api-autocomplete-search");if(search&&globalSettings.search_api_autocomplete&&globalSettings.search_api_autocomplete[search])$.extend(settings,globalSettings.search_api_autocomplete[search]);return settings;};Drupal.behaviors.customSearchApiAutocomplete={attach:function(context,settings){$(once("customSearchApiAutocomplete","search-api-autocomplete",context)).find(".ui-autocomplete-input[data-search-api-autocomplete-search]").each(function(){var uiAutocomplete=$(this).data("ui-autocomplete");if(!uiAutocomplete)return;uiAutocomplete.element.autocomplete("option","appendTo",uiAutocomplete.element.attr("data-autocomplete-appendTo"));var $element=uiAutocomplete.menu.element;$element.data("search-api-autocomplete-input-id",this.id);$element.addClass("search-api-autocomplete-search");var elementSettings=autocomplete.getSettings(this,settings);if(elementSettings["delay"])uiAutocomplete.options["delay"]=elementSettings["delay"];if(elementSettings["min_length"])uiAutocomplete.options["minLength"]=elementSettings["min_length"];var oldSelect=uiAutocomplete.options.select;uiAutocomplete.options.select=function(event,ui){if(ui.item.value=="ncm_search"){event.preventDefault();event.stopPropagation();event.stopImmediatePropagation();return false;}if(ui.item.url){location.href=ui.item.url;return false;}var ret=oldSelect.apply(this,arguments);if(elementSettings["auto_submit"]&&elementSettings["selector"])$(elementSettings["selector"],this.form).trigger("click");return ret;};});}};var multilingual=drupalSettings.multilingual;var currentLanguage=drupalSettings.path.currentLanguage;var searchPageUrl=drupalSettings.searchUrl;var searchUrlClass=searchPageUrl.substring(1,searchPageUrl.length);function getSuggestedPages(){var suggest_pages=drupalSettings.ncm_search_suggested_pages;var suggest_pages_li;if(suggest_pages!=null){suggest_pages_li=$("<li/>");suggest_pages_li.addClass("ncm-suggested-pages");suggest_pages_li.html('<h2 class="suggested-title">Suggested pages</h2>');var suggest_pages_ul=$("<ul/>");suggest_pages_ul.addClass("ncm-suggested-pages-list").attr("role","listbox");$.each(suggest_pages,function(index,value){var sub_a=$("<a/>").html(value.title).attr("href",value.url).attr("role","option").attr("id","ui-id-"+index).addClass("ui-menu-item-wrapper");var sub_li=$("<li/>").addClass("ui-menu-recent-item").append(sub_a);suggest_pages_ul.append(sub_li);});suggest_pages_li.append(suggest_pages_ul);enhanceRemoveButtons();}return suggest_pages_li;}function enhanceRemoveButtons(){$(".remove-search-result").each(function(){var $btn=$(this);$btn.attr("tabindex","0");$btn.attr("role","button");$btn.attr("aria-label","Remove search item");$btn.off("keydown").on("keydown",function(e){if(e.key==="Enter"||e.key===" "){e.preventDefault();$btn.click();}});});}var search_autocomplete=".views-exposed-form-global-search-global-search-block-all ul.search-api-autocomplete-search";function addValueInStorage(searched_keywords,searched_keyword){if(searched_keyword!=null)searched_keywords.unshift(searched_keyword);searched_keywords=searched_keywords.slice(0,5);localStorage.setItem("searched_keywords",JSON.stringify(searched_keywords));return searched_keywords;}function removeValueInStorage(searched_keywords,searched_keyword){searched_keywords=$.grep(searched_keywords,function(value){return value!=searched_keyword;});return searched_keywords;}function addRecentSearches(searched_keywords,thisObj){const search_autocomplete=thisObj.closest(".views-exposed-form-global-search-global-search-block-all").find("ul.search-api-autocomplete-search");search_autocomplete.empty().removeClass("show-recent-search");if(searched_keywords&&searched_keywords.length>0){const main_sub_li=$("<li/>").addClass("recent-searches-list");const sub_ul=$("<ul/>").addClass("recent-searches");$.each(searched_keywords,function(index,value){const sub_remove=$("<span/>").html("Remove").addClass("remove-search-result").attr({role:"button",tabindex:"0","aria-label":"Remove search item: "+value}).on("keydown",function(e){if(e.key==="Enter"||e.key===" "){e.preventDefault();$(this).click();}}).on("click",function(){$(this).closest("li").remove();$("#live-region").text("Removed search item: "+value);});const sub_a=$("<a/>").html(value).addClass("ui-menu-item-wrapper").attr({href:currentLanguage&&multilingual?`/${currentLanguage}${searchPageUrl}?keyword=${value}`:`${searchPageUrl}?keyword=${value}`,id:"ui-id-1000"+index,role:"option"});const sub_li=$("<li/>").addClass("ui-menu-recent-item").attr("role","none").append(sub_a).append(sub_remove);sub_ul.append(sub_li);return index<4;});main_sub_li.append(sub_ul);search_autocomplete.append(main_sub_li).addClass("show-recent-search");}const suggest_pages=getSuggestedPages();if(suggest_pages)search_autocomplete.append(suggest_pages).addClass("show-recent-search");enableArrowKeyNavigation(search_autocomplete);enhanceAutocompleteAccessibility();}function enableArrowKeyNavigation(container){const items=container.find("a.ui-menu-item-wrapper");container.off("keydown").on("keydown",function(e){const $focused=$(document.activeElement);const currentIndex=items.index($focused);if(e.key==="ArrowDown"){e.preventDefault();const next=items.eq((currentIndex+1)%items.length);next.focus();}else{if(e.key==="ArrowUp"){e.preventDefault();const prev=items.eq((currentIndex-1+items.length)%items.length);prev.focus();}}});}function enhanceAutocompleteAccessibility(){const interval=setInterval(()=>{const autocompleteList=document.querySelector("ul.search-api-autocomplete-search");if(autocompleteList&&!autocompleteList.hasAttribute("data-accessibility-patched")){autocompleteList.setAttribute("data-accessibility-patched","true");autocompleteList.setAttribute("tabindex",0);autocompleteList.setAttribute("role","listbox");autocompleteList.setAttribute("aria-label","Search suggestions list");const listItems=autocompleteList.querySelectorAll("li");listItems.forEach((li)=>{li.setAttribute("role","none");const link=li.querySelector("a");if(link)link.setAttribute("role","option");});}},300);setTimeout(()=>clearInterval(interval),5000);}function sanitizeInput(input){if(input!=undefined)return input.replace(/<(|\/|[^>\/]|\/[^>]|[^\/>][^>]+|\/[^>][^>]+)>/g,"");}Drupal.AddCustomPageLoader=function(){$(".ajax-progress.ajax-progress-fullscreen").remove();$("body").append('<div class="ajax-progress ajax-progress-fullscreen"/>');let ajax_throbber=$('<div class="ajax-throbber sk-circle"/>');for(var i=1;i<=12;i++){let circle_class="sk-circle-dot sk-child";let ajax_throbber_circle=$("<div/>");ajax_throbber_circle.addClass(circle_class);ajax_throbber.append(ajax_throbber_circle);}$(".ajax-progress-fullscreen").append(ajax_throbber);};$(once("search-suggest",document)).on("click",search_autocomplete+" li a",function(e){if($(this).parents(".recent-searches").length||$(this).parents(".header-wrapper").find(".autocomplete-suggestion-user-input").length>0)Drupal.AddCustomPageLoader();else{$("form#views-exposed-form-global-search-global-search-block-all").submit();Drupal.AddCustomPageLoader();}});$("form#views-exposed-form-global-search-global-search-block-all .form-submit").on("click",function(){$(this).closest("form").submit();Drupal.AddCustomPageLoader();});Drupal.behaviors.nestle_search_autocomplete={attach:function(context){var searched_keywords=[];var search_selector=".views-exposed-form-global-search-global-search-block-all";searched_keywords=JSON.parse(localStorage.getItem("searched_keywords"));$(once("search-keyword",search_selector+" .search-keyword-wrapper .form-submit")).click(function(){var searched_keyword=sanitizeInput($(this).closest(search_selector).find("input.ui-autocomplete-input").val());if(searched_keyword.trim()){if(searched_keywords==null)searched_keywords=[];if(!($.inArray(searched_keyword,searched_keywords)!=-1))searched_keywords=addValueInStorage(searched_keywords,searched_keyword);else{searched_keywords=removeValueInStorage(searched_keywords,searched_keyword);searched_keywords=addValueInStorage(searched_keywords,searched_keyword);}}});$(once("search-focus",search_selector+" input.ui-autocomplete-input")).on("focusin",function(){addRecentSearches(searched_keywords,$(this));});$(search_selector+" input.ui-autocomplete-input").focusout(function(){$(search_autocomplete).removeClass("show-recent-search");});$(document).on("click",".views-exposed-form-global-search-global-search-block-all ul.search-api-autocomplete-search span.remove-search-result",function(){var removable_item=$(this).siblings("a").text();searched_keywords=removeValueInStorage(searched_keywords,removable_item);addValueInStorage(searched_keywords,null);$(this).closest("li").remove();});let urlParams=new URLSearchParams(window.location.search);if(urlParams.has("t")){let tabValue=urlParams.get("t");if($.inArray(tabValue,["images","videos"])!==-1)$(once("tabs-active","#blocktabs-search_results_tabs .tabs_wrapper li.ui-tabs-tab",context)).each(function(index){let tabSelector=$("#blocktabs-search_results_tabs");if($(this).attr("tab-type")==tabValue)tabSelector.tabs("option","active",index);});}}};document.addEventListener("DOMContentLoaded",function(){let activeIndex=-1;document.querySelectorAll("input[name='keyword']").forEach((inputElement)=>{inputElement.addEventListener("keydown",(event)=>{let suggestionList=event.target.parentElement.querySelector(".search-api-autocomplete-search");let items=suggestionList.querySelectorAll(".ui-menu-item-wrapper");if(items.length===0)return;if(event.key==="ArrowDown"){event.preventDefault();activeIndex=(activeIndex+1)%items.length;}else if(event.key==="ArrowUp"){event.preventDefault();activeIndex=(activeIndex-1+items.length)%items.length;}else{if(event.key==="Enter"&&activeIndex>=0){event.preventDefault();if(items[activeIndex].parentElement.querySelector("span.remove-search-result.active")){items[activeIndex].parentElement.querySelector("span.remove-search-result.active").click();activeIndex=-1;}else items[activeIndex].click();}}items.forEach((item)=>{item.classList.remove("active");});if(event.key=="ArrowRight"||event.key=="ArrowLeft")if(items[activeIndex].parentElement.querySelector(".remove-search-result")){event.preventDefault();items[activeIndex].parentElement.querySelector(".remove-search-result").classList.toggle("active");}if(event.key=="ArrowUp"||event.key=="ArrowDown")suggestionList.querySelectorAll("span.remove-search-result.active").forEach((removeSpan)=>{removeSpan.classList.remove("active");});if(activeIndex>=0)if(items[activeIndex].parentElement.querySelector(".remove-search-result.active"))items[activeIndex].classList.remove("active");else items[activeIndex].classList.add("active");});document.querySelectorAll(".search-api-autocomplete-search").forEach((suggestionLists)=>{suggestionLists.addEventListener("mouseover",function(){activeIndex=-1;$(".ui-menu-item-wrapper").removeClass("active");});});inputElement.addEventListener("mouseout",function(){activeIndex=-1;$(".ui-menu-item-wrapper").removeClass("active");});});});if($("body").hasClass("search-results-wrapper")){let stickyBlock=$("#block-exposedformglobal-searchglobal-search-block-all");var stickyBlockParent=$("#block-exposedformglobal-searchglobal-search-block-all").parent().offset().top;var stickyTop=stickyBlock.offset().top;let tabBlock=$("#blocktabs-search_results_tabs .tabs_wrapper");let stickyBlockOuterHeight=stickyBlock.find(".search-keyword-wrapper").outerHeight();let stickyBlockHeight=stickyBlock.height();let tabBlockTop=tabBlock.offset().top-stickyBlockHeight;$(window).on("scroll",function(){var scroll=$(window).scrollTop();stickyTop=stickyBlock.offset().top;stickyBlockParent=$("#block-exposedformglobal-searchglobal-search-block-all").parent().offset().top;stickyBlockOuterHeight=stickyBlock.find(".search-keyword-wrapper").outerHeight();stickyBlockHeight=stickyBlock.height();tabBlockTop=tabBlock.parent().offset().top-stickyBlockHeight;if(scroll>stickyBlockParent)addStickyClass(stickyBlock);else removeStickyClass(stickyBlock);if(scroll>tabBlockTop){addStickyClass(tabBlock);if($(window).width()<767)tabBlock.css("top",stickyBlock.find(".search-keyword-wrapper").outerHeight()-10);else if($(window).width()<1024)tabBlock.css("top",stickyBlockOuterHeight);else tabBlock.css("top",stickyBlockOuterHeight+8);$("#blocktabs-search_results_tabs .ui-tabs-panel").css("margin-top",stickyBlockHeight);}else{removeStickyClass(tabBlock);tabBlock.css("top","0");$("#blocktabs-search_results_tabs .ui-tabs-panel").css("margin-top",0);}});if($(window).width()<767){let fixPosition=0;let lastScrollY=window.pageYOffset;let toolbarWrap=$("#block-exposedformglobal-searchglobal-search-block-all")[0];let toolbar=$("#block-exposedformglobal-searchglobal-search-block-all > form")[0];let editor=$("#block-exposedformglobal-searchglobal-search-block-all > form > div")[0];const setMargin=function(){const newPosition=toolbarWrap.getBoundingClientRect().top;if(newPosition<-1){toolbar.classList.add("down");fixPosition=Math.abs(newPosition);if(window.innerHeight+window.pageYOffset>=document.body.offsetHeight)fixPosition-=2;fixPosition-=20;toolbar.style["margin-top"]=fixPosition+"px";}};const debounceMargin=_.debounce(setMargin,150);const showToolbar=function(){if(fixPosition>0){toolbar.classList.remove("down");fixPosition=0;toolbar.style["margin-top"]=0+"px";}debounceMargin();};window.addEventListener("scroll",showToolbar);editor.addEventListener("blur",showToolbar);}}function addStickyClass(stickySelector){stickySelector.addClass("search-sticky");}function removeStickyClass(stickySelector){stickySelector.removeClass("search-sticky");}})(jQuery,Drupal,drupalSettings,once);;
!function(v,m,C,t){"use strict";var b="slick",y="unslick",w=b+"--initialized",e=".slick:not(."+w+")",z=".slick__slider",_=".slick__arrow",P=".b-lazy[data-src]:not(.b-loaded)",x=".media__icon--close",$="is-playing",A="is-paused",D="data-thumb",L="data-b-thumb",S=m.blazy||{};function i(e){var n,i,s=v(e),a=v("> "+z,e).length?v("> "+z,e):s,o=v("> "+_,e),t=a.data(b)?v.extend({},C.slick,a.data(b)):v.extend({},C.slick),l=!(!t.responsive||!t.responsive.length)&&t.responsive,d=t.appendDots,c="blazy"===t.lazyLoad&&S,r=a.find(".media--player").length,f=a.hasClass(y);if(f||(t.appendDots=d===_?o:d||v(a)),l)for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&l[n].settings!==y&&(l[n].settings=v.extend({},C.slick,k(t),l[n].settings));function u(n){a.find(P).length&&((n=a.find(n?".slide:not(.slick-cloned) "+P:".slick-active "+P)).length||(n=a.find(".slick-cloned "+P)),n.length&&S.init&&S.init.load(n))}function h(){r&&g(),c&&u(!1)}function g(){a.removeClass(A);var n=a.find("."+$);n.length&&n.removeClass($).find(x).click()}function p(){a.addClass(A).slick("slickPause")}function k(l){return f?{}:{slide:l.slide,lazyLoad:l.lazyLoad,dotsClass:l.dotsClass,rtl:l.rtl,prevArrow:v(".slick-prev",o),nextArrow:v(".slick-next",o),appendArrows:o,customPaging:function(n,i){var s,t=n.$slides.eq(i),e=t.find("["+D+"]"),a=D;e.length||(e=t.find("["+L+"]"),a=L),e.length&&(s=(s=e.find("img").attr("alt"))?m.checkPlain(s):"Preview",s='<img alt="'+m.t(s)+'" src="'+e.attr(a)+'">',s=0<l.dotsClass.indexOf("thumbnail")?'<div class="slick-dots__thumbnail">'+s+"</div>":"");i=n.defaults.customPaging(n,i);return s?i.add(s):i}}}a.data(b,t),(t=a.data(b)).randomize&&!a.hasClass("slick-initiliazed")&&a.children().sort(function(){return.5-Math.random()}).each(function(){a.append(this)}),f||a.on("init.sl",function(n,i){d===_&&v(i.$dots).insertAfter(i.$prevArrow);i=a.find(".slick-cloned.slick-active "+P);c&&i.length&&S.init&&S.init.load(i)}),c?a.on("beforeChange.sl",function(){u(!0)}):(i=v(".media",a)).length&&(i.find("[data-src]").length||i.hasClass("b-bg"))&&i.closest(".slide__content").addClass("is-loading"),a.on("setPosition.sl",function(n,i){var s,t;i=(s=i).slideCount<=s.options.slidesToShow,t=i||!1===s.options.arrows,a.attr("id")===s.$slider.attr("id")&&(s.options.centerPadding&&"0"!==s.options.centerPadding||s.$list.css("padding",""),i&&(s.$slideTrack.width()<=s.$slider.width()||v(e).hasClass("slick--thumbnail"))&&s.$slideTrack.css({left:"",transform:""}),(s=a.find(".b-loaded ~ .b-loader")).length&&s.remove(),o.length&&v.each(["next","prev"],function(n,i){v(".slick-"+i,o)[t?"addClass":"removeClass"]("visually-hidden")}))}),a.slick(k(t)),a.parent().on("click.sl",".slick-down",function(n){n.preventDefault();n=v(this);v("html, body").stop().animate({scrollTop:v(n.data("target")).offset().top-(n.data("offset")||0)},800,v.easing&&t.easing?t.easing:"swing")}),t.mouseWheel&&a.on("mousewheel.sl",function(n,i){return n.preventDefault(),a.slick(i<0?"slickNext":"slickPrev")}),c||a.on("lazyLoaded lazyLoadError",function(n,i,s){var t;t=(s=v(t=s)).closest(".slide")||s.closest("."+y),s.parentsUntil(t).removeClass(function(n,i){return(i.match(/(\S+)loading/g)||[]).join(" ")})}),a.on("afterChange.sl",h),r&&(a.on("click.sl",x,g),a.on("click.sl",".media__icon--play",p)),s.removeClass(function(n,i){return(i.match(/(\S+)loading/g)||[]).join(" ")}),f&&a.slick(y),s.addClass(w)}m.behaviors.slick={attach:function(n){t.once(i,b,e,n)},detach:function(n,i,s){"unload"===s&&t.once.removeSafely(b,e,n)}}}(jQuery,Drupal,drupalSettings,dBlazy);
;
;(function(factory){'use strict';if(typeof define==='function'&&define.amd)define(['jquery'],factory);else if(typeof exports!=='undefined')module.exports=factory(require('jquery'));else factory(jQuery);}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:true,adaptiveHeight:false,appendArrows:$(element),appendDots:$(element),arrows:true,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return $('<button type="button"></button>').text(i+1);},dots:false,dotsClass:'slick-dots',draggable:true,easing:'linear',edgeFriction:0.35,fade:false,focusOnSelect:false,focusOnChange:false,infinite:true,initialSlide:0,lazyLoad:'ondemand',mobileFirst:false,pauseOnHover:true,pauseOnFocus:true,pauseOnDotsHover:false,respondTo:'window',responsive:null,rows:1,rtl:false,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};_.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:false,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,swiping:false,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=false;_.focussed=false;_.interrupted=false;_.hidden='hidden';_.paused=true;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=true;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,settings,dataSettings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange';}else{if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange';}}_.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(true);}return Slick;}());Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false','tabindex':'0'}).find('a, input, button, select').attr({'tabindex':'0'});};Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof (index)==='boolean'){addBefore=index;index=null;}else{if(index<0||(index>=_.slideCount))return false;}_.unload();if(typeof (index)==='number')if(index===0&&_.$slides.length===0)$(markup).appendTo(_.$slideTrack);else if(addBefore)$(markup).insertBefore(_.$slides.eq(index));else $(markup).insertAfter(_.$slides.eq(index));else if(addBefore===true)$(markup).prependTo(_.$slideTrack);else $(markup).appendTo(_.$slideTrack);_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index);});_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.animate({height:targetHeight},_.options.speed);}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===true&&_.options.vertical===false)targetLeft=-targetLeft;if(_.transformsEnabled===false)if(_.options.vertical===false)_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback);else _.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback);else if(_.cssTransitions===false){if(_.options.rtl===true)_.currentLeft=-(_.currentLeft);$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===false){animProps[_.animType]='translate('+now+'px, 0px)';_.$slideTrack.css(animProps);}else{animProps[_.animType]='translate(0px,'+now+'px)';_.$slideTrack.css(animProps);}},complete:function(){if(callback)callback.call();}});}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===false)animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)';else animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)';_.$slideTrack.css(animProps);if(callback)setTimeout(function(){_.disableTransition();callback.call();},_.options.speed);}};Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null)asNavFor=$(asNavFor).not(_.$slider);return asNavFor;};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.getNavTarget();if(asNavFor!==null&&typeof asNavFor==='object')asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked)target.slideHandler(index,true);});};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===false)transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase;else transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase;if(_.options.fade===false)_.$slideTrack.css(transition);else _.$slides.eq(slide).css(transition);};Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear();if(_.slideCount>_.options.slidesToShow)_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed);};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer)clearInterval(_.autoPlayTimer);};Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;if(!_.paused&&!_.interrupted&&!_.focussed){if(_.options.infinite===false)if(_.direction===1&&(_.currentSlide+1)===(_.slideCount-1))_.direction=0;else{if(_.direction===0){slideTo=_.currentSlide-_.options.slidesToScroll;if(_.currentSlide-1===0)_.direction=1;}}_.slideHandler(slideTo);}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===true){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.prependTo(_.options.appendArrows);if(_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.appendTo(_.options.appendArrows);if(_.options.infinite!==true)_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');}else _.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'});}};Slick.prototype.buildDots=function(){var _=this,i,dot;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$slider.addClass('slick-dotted');dot=$('<ul></ul>').addClass(_.options.dotsClass);for(i=0;i<=_.getDotCount();i+=1)dot.append($('<li></li>').append(_.options.customPaging.call(this,_,i)));_.$dots=dot.appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active');}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'');});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"></div>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"></div>').parent();_.$list=_.$slideTrack.wrap('<div class="slick-list"></div>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===true||_.options.swipeToSlide===true)_.options.slidesToScroll=1;$('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===true)_.$list.addClass('draggable');};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>0){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length/slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target))row.appendChild(originalSlides.get(target));}slide.appendChild(row);}newSlides.appendChild(slide);}_.$slider.empty().append(newSlides);_.$slider.children().children().children().css({'width':(100/_.options.slidesPerRow)+'%','display':'inline-block'});}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=false;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window')respondToWidth=windowWidth;else if(_.respondTo==='slider')respondToWidth=sliderWidth;else{if(_.respondTo==='min')respondToWidth=Math.min(windowWidth,sliderWidth);}if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints)if(_.breakpoints.hasOwnProperty(breakpoint))if(_.originalSettings.mobileFirst===false){if(respondToWidth<_.breakpoints[breakpoint])targetBreakpoint=_.breakpoints[breakpoint];}else{if(respondToWidth>_.breakpoints[breakpoint])targetBreakpoint=_.breakpoints[breakpoint];}if(targetBreakpoint!==null)if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick')_.unslick(targetBreakpoint);else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);}triggerBreakpoint=targetBreakpoint;}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick')_.unslick(targetBreakpoint);else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);}triggerBreakpoint=targetBreakpoint;}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===true)_.currentSlide=_.options.initialSlide;_.refresh(initial);triggerBreakpoint=targetBreakpoint;}}if(!initial&&triggerBreakpoint!==false)_.$slider.trigger('breakpoint',[_,triggerBreakpoint]);}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget),indexOffset,slideOffset,unevenOffset;if($target.is('a'))event.preventDefault();if(!$target.is('li'))$target=$target.closest('li');unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case 'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow)_.slideHandler(_.currentSlide-slideOffset,false,dontAnimate);break;case 'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow)_.slideHandler(_.currentSlide+slideOffset,false,dontAnimate);break;case 'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),false,dontAnimate);$target.children().trigger('focus');break;default:return;}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1])index=navigables[navigables.length-1];else for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break;}prevNavigable=navigables[n];}return index;};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide).off('mouseenter.slick',$.proxy(_.interrupt,_,true)).off('mouseleave.slick',$.proxy(_.interrupt,_,false));if(_.options.accessibility===true)_.$dots.off('keydown.slick',_.keyHandler);}_.$slider.off('focus.slick blur.slick');if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);if(_.options.accessibility===true){_.$prevArrow&&_.$prevArrow.off('keydown.slick',_.keyHandler);_.$nextArrow&&_.$nextArrow.off('keydown.slick',_.keyHandler);}}_.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.cleanUpSlideEvents();if(_.options.accessibility===true)_.$list.off('keydown.slick',_.keyHandler);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().off('click.slick',_.selectHandler);$(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.off('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>0){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.empty().append(originalSlides);}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===false){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault();}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots)_.$dots.remove();if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.remove();}if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.remove();}if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'));});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides);}_.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.$slider.removeClass('slick-dotted');_.unslicked=true;if(!refresh)_.$slider.trigger('destroy',[_]);};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===false)_.$slideTrack.css(transition);else _.$slides.eq(slide).css(transition);};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback)setTimeout(function(){_.disableTransition(slideIndex);callback.call();},_.options.speed);}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===false)_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing);else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2});}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.focusHandler=function(){var _=this;_.$slider.off('focus.slick blur.slick').on('focus.slick','*',function(event){var $sf=$(this);setTimeout(function(){if(_.options.pauseOnFocus)if($sf.is(':focus')){_.focussed=true;_.autoPlay();}},0);}).on('blur.slick','*',function(event){var $sf=$(this);if(_.options.pauseOnFocus){_.focussed=false;_.autoPlay();}});};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide;};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===true)if(_.slideCount<=_.options.slidesToShow)++pagerQty;else while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}else if(_.options.centerMode===true)pagerQty=_.slideCount;else if(!_.options.asNavFor)pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/_.options.slidesToScroll);else while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}return pagerQty-1;};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide,coef;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(true);if(_.options.infinite===true){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;coef=-1;if(_.options.vertical===true&&_.options.centerMode===true)if(_.options.slidesToShow===2)coef=-1.5;else{if(_.options.slidesToShow===1)coef=-2;}verticalOffset=(verticalHeight*_.options.slidesToShow)*coef;}if(_.slideCount%_.options.slidesToScroll!==0)if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow)if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1;}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1;}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight;}}if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0;}if(_.options.centerMode===true&&_.slideCount<=_.options.slidesToShow)_.slideOffset=((_.slideWidth*Math.floor(_.options.slidesToShow))/2)-((_.slideWidth*_.slideCount)/2);else if(_.options.centerMode===true&&_.options.infinite===true)_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth;else{if(_.options.centerMode===true){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2);}}if(_.options.vertical===false)targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset;else targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset;if(_.options.variableWidth===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false)targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);else targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow);if(_.options.rtl===true)if(targetSlide[0])targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;else targetLeft=0;else targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;if(_.options.centerMode===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false)targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);else targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1);if(_.options.rtl===true)if(targetSlide[0])targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;else targetLeft=0;else targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;targetLeft+=(_.$list.width()-targetSlide.outerWidth())/2;}}return targetLeft;};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option];};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===false)max=_.slideCount;else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2;}while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}return indexes;};Slick.prototype.getSlick=function(){return this;};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,swipeTarget,centerOffset;centerOffset=_.options.centerMode===true?Math.floor(_.$list.width()/2):0;swipeTarget=(_.swipeLeft*-1)+centerOffset;if(_.options.swipeToSlide===true){_.$slideTrack.find('.slick-slide').each(function(index,slide){var slideOuterWidth,slideOffset,slideRightBoundary;slideOuterWidth=$(slide).outerWidth();slideOffset=slide.offsetLeft;if(_.options.centerMode!==true)slideOffset+=(slideOuterWidth/2);slideRightBoundary=slideOffset+(slideOuterWidth);if(swipeTarget<slideRightBoundary){swipedSlide=slide;return false;}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed;}else return _.options.slidesToScroll;};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate);};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();_.checkResponsive(true);_.focusHandler();}if(creation)_.$slider.trigger('init',[_]);if(_.options.accessibility===true)_.initADA();if(_.options.autoplay){_.paused=false;_.autoPlay();}};Slick.prototype.initADA=function(){var _=this,numDotGroups=Math.ceil(_.slideCount/_.options.slidesToScroll),tabControlIndexes=_.getNavigableIndexes().filter(function(val){return (val>=0)&&(val<_.slideCount);});_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1'}).find('a, input, button, select').attr({'tabindex':'-1'});if(_.$dots!==null){_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){var slideControlIndex=tabControlIndexes.indexOf(i);$(this).attr({'role':'tabpanel','id':'slick-slide'+_.instanceUid+i,'tabindex':-1});if(slideControlIndex!==-1){var ariaButtonControl='slick-slide-control'+_.instanceUid+slideControlIndex;if($('#'+ariaButtonControl).length)$(this).attr({'aria-describedby':ariaButtonControl});}});_.$dots.find('li').each(function(i){var mappedSlideIndex=tabControlIndexes[i];$(this).attr({'role':'presentation'});$(this).find('button').first().attr({'id':'slick-slide-control'+_.instanceUid+i,'aria-controls':'slick-slide'+_.instanceUid+mappedSlideIndex,'aria-label':(i+1)+' of '+numDotGroups,'aria-current':null,'tabindex':'0'});}).siblings('.slick-active').find('button').attr({'aria-current':'true','tabindex':'0'}).end();}for(var i=_.currentSlide,max=i+_.options.slidesToShow;i<max;i++)if(_.options.focusOnChange)_.$slides.eq(i).attr({'tabindex':'0'});else _.$slides.eq(i).removeAttr('tabindex');_.activateADA();};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.off('click.slick').on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.off('click.slick').on('click.slick',{message:'next'},_.changeSlide);if(_.options.accessibility===true){_.$prevArrow.on('keydown.slick',_.keyHandler);_.$nextArrow.on('keydown.slick',_.keyHandler);}}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);if(_.options.accessibility===true)_.$dots.on('keydown.slick',_.keyHandler);}if(_.options.dots===true&&_.options.pauseOnDotsHover===true&&_.slideCount>_.options.slidesToShow)$('li',_.$dots).on('mouseenter.slick',$.proxy(_.interrupt,_,true)).on('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.initSlideEvents=function(){var _=this;if(_.options.pauseOnHover){_.$list.on('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.initSlideEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));if(_.options.accessibility===true)_.$list.on('keydown.slick',_.keyHandler);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().on('click.slick',_.selectHandler);$(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(_.setPosition);};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show();}if(_.options.dots===true&&_.slideCount>_.options.slidesToShow)_.$dots.show();};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT'))if(event.keyCode===37&&_.options.accessibility===true)_.changeSlide({data:{message:_.options.rtl===true?'next':'previous'}});else{if(event.keyCode===39&&_.options.accessibility===true)_.changeSlide({data:{message:_.options.rtl===true?'previous':'next'}});}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageSrcSet=$(this).attr('data-srcset'),imageSizes=$(this).attr('data-sizes')||_.$slider.attr('data-sizes'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes)image.attr('sizes',imageSizes);}image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');});_.$slider.trigger('lazyLoaded',[_,image,imageSource]);});};imageToLoad.onerror=function(){image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);};imageToLoad.src=imageSource;});}if(_.options.centerMode===true)if(_.options.infinite===true){rangeStart=_.currentSlide+(_.options.slidesToShow/2+1);rangeEnd=rangeStart+_.options.slidesToShow+2;}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1));rangeEnd=2+(_.options.slidesToShow/2+1)+_.currentSlide;}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=Math.ceil(rangeStart+_.options.slidesToShow);if(_.options.fade===true){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++;}}loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);if(_.options.lazyLoad==='anticipated'){var prevSlide=rangeStart-1,nextSlide=rangeEnd,$slides=_.$slider.find('.slick-slide');for(var i=0;i<_.options.slidesToScroll;i++){if(prevSlide<0)prevSlide=_.slideCount-1;loadRange=loadRange.add($slides.eq(prevSlide));loadRange=loadRange.add($slides.eq(nextSlide));prevSlide--;nextSlide++;}}loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange);}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange);}else{if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange);}}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:'1'});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive')_.progressiveLazyLoad();};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}});};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition();};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=true;};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay();_.options.autoplay=true;_.paused=false;_.focussed=false;_.interrupted=false;};Slick.prototype.postSlide=function(index){var _=this;if(!_.unslicked){_.$slider.trigger('afterChange',[_,index]);_.animating=false;if(_.slideCount>_.options.slidesToShow)_.setPosition();_.swipeLeft=null;if(_.options.autoplay)_.autoPlay();if(_.options.accessibility===true){_.initADA();if(_.options.focusOnChange){var $currentSlide=$(_.$slides.get(_.currentSlide));$currentSlide.attr('tabindex',0).trigger('focus');}}}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}});};Slick.prototype.preventDefault=function(event){event.preventDefault();};Slick.prototype.progressiveLazyLoad=function(tryCount){tryCount=tryCount||1;var _=this,$imgsToLoad=$('img[data-lazy]',_.$slider),image,imageSource,imageSrcSet,imageSizes,imageToLoad;if($imgsToLoad.length){image=$imgsToLoad.first();imageSource=image.attr('data-lazy');imageSrcSet=image.attr('data-srcset');imageSizes=image.attr('data-sizes')||_.$slider.attr('data-sizes');imageToLoad=document.createElement('img');imageToLoad.onload=function(){if(imageSrcSet){image.attr('srcset',imageSrcSet);if(imageSizes)image.attr('sizes',imageSizes);}image.attr('src',imageSource).removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');if(_.options.adaptiveHeight===true)_.setPosition();_.$slider.trigger('lazyLoaded',[_,image,imageSource]);_.progressiveLazyLoad();};imageToLoad.onerror=function(){if(tryCount<3)setTimeout(function(){_.progressiveLazyLoad(tryCount+1);},500);else{image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);_.progressiveLazyLoad();}};imageToLoad.src=imageSource;}else _.$slider.trigger('allImagesLoaded',[_]);};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,lastVisibleIndex;lastVisibleIndex=_.slideCount-_.options.slidesToShow;if(!_.options.infinite&&(_.currentSlide>lastVisibleIndex))_.currentSlide=lastVisibleIndex;if(_.slideCount<=_.options.slidesToShow)_.currentSlide=0;currentSlide=_.currentSlide;_.destroy(true);$.extend(_,_.initials,{currentSlide});_.init();if(!initializing)_.changeSlide({data:{message:'index',index:currentSlide}},false);};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if(Array.isArray(responsiveSettings)&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;if(responsiveSettings.hasOwnProperty(breakpoint)){currentBreakpoint=responsiveSettings[breakpoint].breakpoint;while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint)_.breakpoints.splice(l,1);l--;}_.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings;}}_.breakpoints.sort(function(a,b){return (_.options.mobileFirst)?a-b:b-a;});}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0)_.currentSlide=_.currentSlide-_.options.slidesToScroll;if(_.slideCount<=_.options.slidesToShow)_.currentSlide=0;_.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.cleanUpSlideEvents();_.initSlideEvents();_.checkResponsive(false,true);if(_.options.focusOnSelect===true)$(_.$slideTrack).children().on('click.slick',_.selectHandler);_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);_.setPosition();_.focusHandler();_.paused=!_.options.autoplay;_.autoPlay();_.$slider.trigger('reInit',[_]);};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked)_.setPosition();},50);}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof (index)==='boolean'){removeBefore=index;index=removeBefore===true?0:_.slideCount-1;}else index=removeBefore===true?--index:index;if(_.slideCount<1||index<0||index>_.slideCount-1)return false;_.unload();if(removeAll===true)_.$slideTrack.children().remove();else _.$slideTrack.children(this.options.slide).eq(index).remove();_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===true)position=-position;x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===false)_.$slideTrack.css(positionProps);else{positionProps={};if(_.cssTransitions===false){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps);}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps);}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===false){if(_.options.centerMode===true)_.$list.css({padding:('0px '+_.options.centerPadding)});}else{_.$list.height(_.$slides.first().outerHeight(true)*_.options.slidesToShow);if(_.options.centerMode===true)_.$list.css({padding:(_.options.centerPadding+' 0px')});}_.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===false&&_.options.variableWidth===false){_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)));}else if(_.options.variableWidth===true)_.$slideTrack.width(5000*_.slideCount);else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true)*_.$slideTrack.children('.slick-slide').length)));}var offset=_.$slides.first().outerWidth(true)-_.$slides.first().width();if(_.options.variableWidth===false)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset);};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===true)$(element).css({position:'relative',right:targetLeft,top:'0',zIndex:_.options.zIndex-2,opacity:'0'});else $(element).css({position:'relative',left:targetLeft,top:'0',zIndex:_.options.zIndex-2,opacity:'0'});});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:'1'});};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.css('height',targetHeight+'px');}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var _=this,l,item,option,value,refresh=false,type;if($.isPlainObject(arguments[0])){option=arguments[0];refresh=arguments[1];type='multiple';}else{if(typeof arguments[0]==='string'){option=arguments[0];value=arguments[1];refresh=arguments[2];if(arguments[0]==='responsive'&&Array.isArray(arguments[1]))type='responsive';else{if(typeof arguments[1]!=='undefined')type='single';}}}if(type==='single')_.options[option]=value;else if(type==='multiple')$.each(option,function(opt,val){_.options[opt]=val;});else{if(type==='responsive')for(item in value)if(!Array.isArray(_.options.responsive))_.options.responsive=[value[item]];else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint)_.options.responsive.splice(l,1);l--;}_.options.responsive.push(value[item]);}}if(refresh){_.unload();_.reinit();}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===false)_.setCSS(_.getLeft(_.currentSlide));else _.setFade();_.$slider.trigger('setPosition',[_]);};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===true?'top':'left';if(_.positionProp==='top')_.$slider.addClass('slick-vertical');else _.$slider.removeClass('slick-vertical');if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined)if(_.options.useCSS===true)_.cssTransitions=true;if(_.options.fade)if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3)_.options.zIndex=3;}else _.options.zIndex=_.defaults.zIndex;if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=false;}if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=false;}if(bodyStyle.transform!==undefined&&_.animType!==false){_.animType='transform';_.transformType='transform';_.transitionType='transition';}_.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==false);};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===true){var evenCoef=_.options.slidesToShow%2===0?1:0;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.infinite===true){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset)_.$slides.slice(index-centerOffset+evenCoef,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false');else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1+evenCoef,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false');}if(index===0)allSlides.eq(_.options.slidesToShow+_.slideCount+1).addClass('slick-center');else{if(index===_.slideCount-1)allSlides.eq(_.options.slidesToShow).addClass('slick-center');}}_.$slides.eq(index).addClass('slick-center');}else if(index>=0&&index<=(_.slideCount-_.options.slidesToShow))_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');else if(allSlides.length<=_.options.slidesToShow)allSlides.addClass('slick-active').attr('aria-hidden','false');else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===true?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow)allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false');else allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}if(_.options.lazyLoad==='ondemand'||_.options.lazyLoad==='anticipated')_.lazyLoad();};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===true)_.options.centerMode=false;if(_.options.infinite===true&&_.options.fade===false){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===true)infiniteCount=_.options.slidesToShow+1;else infiniteCount=_.options.slidesToShow;for(i=_.slideCount;i>(_.slideCount-infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(true).removeAttr('id').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');}for(i=0;i<infiniteCount+_.slideCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(true).removeAttr('id').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');}_.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).removeAttr('id');});}}};Slick.prototype.interrupt=function(toggle){var _=this;if(!toggle)_.autoPlay();_.interrupted=toggle;};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.slideHandler(index,false,true);return;}_.slideHandler(index);};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this,navTarget;sync=sync||false;if(_.animating===true&&_.options.waitForAnimate===true)return;if(_.options.fade===true&&_.currentSlide===index)return;if(sync===false)_.asNavFor(index);targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===false&&_.options.centerMode===false&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});else _.postSlide(targetSlide);}return;}else{if(_.options.infinite===false&&_.options.centerMode===true&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});else _.postSlide(targetSlide);}return;}}if(_.options.autoplay)clearInterval(_.autoPlayTimer);if(targetSlide<0)if(_.slideCount%_.options.slidesToScroll!==0)animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll);else animSlide=_.slideCount+targetSlide;else if(targetSlide>=_.slideCount)if(_.slideCount%_.options.slidesToScroll!==0)animSlide=0;else animSlide=targetSlide-_.slideCount;else animSlide=targetSlide;_.animating=true;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);if(_.options.asNavFor){navTarget=_.getNavTarget();navTarget=navTarget.slick('getSlick');if(navTarget.slideCount<=navTarget.options.slidesToShow)navTarget.setSlideClasses(_.currentSlide);}_.updateDots();_.updateArrows();if(_.options.fade===true){if(dontAnimate!==true){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide);});}else _.postSlide(animSlide);_.animateHeight();return;}if(dontAnimate!==true&&_.slideCount>_.options.slidesToShow)_.animateSlide(targetLeft,function(){_.postSlide(animSlide);});else _.postSlide(animSlide);};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide();}if(_.options.dots===true&&_.slideCount>_.options.slidesToShow)_.$dots.hide();_.$slider.addClass('slick-loading');};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180/Math.PI);if(swipeAngle<0)swipeAngle=360-Math.abs(swipeAngle);if((swipeAngle<=45)&&(swipeAngle>=0))return (_.options.rtl===false?'left':'right');if((swipeAngle<=360)&&(swipeAngle>=315))return (_.options.rtl===false?'left':'right');if((swipeAngle>=135)&&(swipeAngle<=225))return (_.options.rtl===false?'right':'left');if(_.options.verticalSwiping===true)if((swipeAngle>=35)&&(swipeAngle<=135))return 'down';else return 'up';return 'vertical';};Slick.prototype.swipeEnd=function(event){var _=this,slideCount,direction;_.dragging=false;_.swiping=false;if(_.scrolling){_.scrolling=false;return false;}_.interrupted=false;_.shouldClick=(_.touchObject.swipeLength>10)?false:true;if(_.touchObject.curX===undefined)return false;if(_.touchObject.edgeHit===true)_.$slider.trigger('edge',[_,_.swipeDirection()]);if(_.touchObject.swipeLength>=_.touchObject.minSwipe){direction=_.swipeDirection();switch(direction){case 'left':case 'down':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.currentDirection=0;break;case 'right':case 'up':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.currentDirection=1;break;default:}if(direction!='vertical'){_.slideHandler(slideCount);_.touchObject={};_.$slider.trigger('swipe',[_,direction]);}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={};}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===false)||('ontouchend' in document&&_.options.swipe===false))return;else{if(_.options.draggable===false&&event.type.indexOf('mouse')!==-1)return;}_.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold;if(_.options.verticalSwiping===true)_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold;switch(event.data.action){case 'start':_.swipeStart(event);break;case 'move':_.swipeMove(event);break;case 'end':_.swipeEnd(event);break;}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=false,curLeft,swipeDirection,swipeLength,positionOffset,touches,verticalSwipeLength;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||_.scrolling||touches&&touches.length!==1)return false;curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));verticalSwipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));if(!_.options.verticalSwiping&&!_.swiping&&verticalSwipeLength>4){_.scrolling=true;return false;}if(_.options.verticalSwiping===true)_.touchObject.swipeLength=verticalSwipeLength;swipeDirection=_.swipeDirection();if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){_.swiping=true;event.preventDefault();}positionOffset=(_.options.rtl===false?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===true)positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1;swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=false;if(_.options.infinite===false)if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=true;}if(_.options.vertical===false)_.swipeLeft=curLeft+swipeLength*positionOffset;else _.swipeLeft=curLeft+(swipeLength*(_.$list.height()/_.listWidth))*positionOffset;if(_.options.verticalSwiping===true)_.swipeLeft=curLeft+swipeLength*positionOffset;if(_.options.fade===true||_.options.touchMove===false)return false;if(_.animating===true){_.swipeLeft=null;return false;}_.setCSS(_.swipeLeft);};Slick.prototype.swipeStart=function(event){var _=this,touches;_.interrupted=true;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return false;}if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined)touches=event.originalEvent.touches[0];_.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=true;};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots)_.$dots.remove();if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow))_.$prevArrow.remove();if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow))_.$nextArrow.remove();_.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','');};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy();};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow/2);if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===false){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else{if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===true){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').end();_.$dots.find('li').eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass('slick-active');}};Slick.prototype.visibility=function(){var _=this;if(_.options.autoplay)if(document[_.hidden])_.interrupted=true;else _.interrupted=false;};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')_[i].slick=new Slick(_[i],opt);else ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret;}return _;};}));;
(function(Drupal,drupalSettings,once){const dataAttr='[data-dark-mode-switch]';const darkClass=drupalSettings.dark_mode_switch.dark_class;const parentElement=drupalSettings.dark_mode_switch.parent_element;Drupal.behaviors.dark_mode_switch={attach:function(context){if(context===document){const elements=once('dark_mode_switch',dataAttr,context);elements.forEach(processingCallback);document.querySelector(dataAttr).onchange=(event)=>{document.querySelector(parentElement).classList.toggle(darkClass);localStorage.theme=event.target.checked;};}}};function processingCallback(){let darkmodeState=window.matchMedia('(prefers-color-scheme: dark)').matches;if('theme' in localStorage)darkmodeState=(localStorage.theme!=='false');document.querySelector(parentElement).classList.toggle(darkClass,darkmodeState);document.querySelector(dataAttr).checked=darkmodeState;}})(Drupal,drupalSettings,once);;
Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(void 0===this||null===this||"function"!=typeof a)throw new TypeError();for(var b=Object(this),c=b.length>>>0,d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b);}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)));};return d.prototype=this.prototype,e.prototype=new d(),e;}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(null===this)throw new TypeError(" this is null or not defined");if("function"!=typeof a)throw new TypeError(a+" is not a function");for(var c=Object(this),d=c.length>>>0,e=0;d>e;e++)e in c&&a.call(b,c[e],e,c);}),function(a,b){function c(a){var c=b[a];b[a]=function(a){return e(c(a));};}function d(b,c,d){return (d=this).attachEvent("on"+b,function(b){b=b||a.event,b.preventDefault=b.preventDefault||function(){b.returnValue=!1;},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0;},c.call(d,b);});}function e(a,b){if(b=a.length)for(;b--;)a[b].addEventListener=d;else a.addEventListener=d;return a;}a.addEventListener||(e([b,a]),"Element" in a?a.Element.prototype.addEventListener=d:(b.attachEvent("onreadystatechange",function(){e(b.all);}),c("getElementsByTagName"),c("getElementById"),c("createElement"),e(b.all)));}(window,document);;
!function(a){"use strict";function b(b,c,d){"addEventListener" in a?b.addEventListener(c,d,!1):"attachEvent" in a&&b.attachEvent("on"+c,d);}function c(b,c,d){"removeEventListener" in a?b.removeEventListener(c,d,!1):"detachEvent" in a&&b.detachEvent("on"+c,d);}function d(){var b,c=["moz","webkit","o","ms"];for(b=0;b<c.length&&!N;b+=1)N=a[c[b]+"RequestAnimationFrame"];N||h("setup","RequestAnimationFrame not supported");}function e(b){var c="Host page: "+b;return a.top!==a.self&&(c=a.parentIFrame&&a.parentIFrame.getId?a.parentIFrame.getId()+": "+b:"Nested host page: "+b),c;}function f(a){return K+"["+e(a)+"]";}function g(a){return P[a]?P[a].log:G;}function h(a,b){k("log",a,b,g(a));}function i(a,b){k("info",a,b,g(a));}function j(a,b){k("warn",a,b,!0);}function k(b,c,d,e){!0===e&&"object"==typeof a.console&&console[b](f(c),d);}function l(d){function e(){function a(){s(V),p(W);}g("Height"),g("Width"),t(a,V,"init");}function f(){var a=U.substr(L).split(":");return {iframe:P[a[0]].iframe,id:a[0],height:a[1],width:a[2],type:a[3]};}function g(a){var b=Number(P[W]["max"+a]),c=Number(P[W]["min"+a]),d=a.toLowerCase(),e=Number(V[d]);h(W,"Checking "+d+" is in range "+c+"-"+b),c>e&&(e=c,h(W,"Set "+d+" to min value")),e>b&&(e=b,h(W,"Set "+d+" to max value")),V[d]=""+e;}function k(){function a(){function a(){var a=0,d=!1;for(h(W,"Checking connection is from allowed list of origins: "+c);a<c.length;a++)if(c[a]===b){d=!0;break;}return d;}function d(){var a=P[W].remoteHost;return h(W,"Checking connection is from: "+a),b===a;}return c.constructor===Array?a():d();}var b=d.origin,c=P[W].checkOrigin;if(c&&""+b!="null"&&!a())throw new Error("Unexpected message received from: "+b+" for "+V.iframe.id+". Message was: "+d.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return !0;}function l(){return K===(""+U).substr(0,L)&&U.substr(L).split(":")[0] in P;}function w(){var a=V.type in {"true":1,"false":1,undefined:1};return a&&h(W,"Ignoring init message from meta parent page"),a;}function y(a){return U.substr(U.indexOf(":")+J+a);}function z(a){h(W,"MessageCallback passed: {iframe: "+V.iframe.id+", message: "+a+"}"),N("messageCallback",{iframe:V.iframe,message:JSON.parse(a)}),h(W,"--");}function A(){var b=document.body.getBoundingClientRect(),c=V.iframe.getBoundingClientRect();return JSON.stringify({clientHeight:Math.max(document.documentElement.clientHeight,a.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,a.innerWidth||0),offsetTop:parseInt(c.top-b.top,10),offsetLeft:parseInt(c.left-b.left,10),scrollTop:a.pageYOffset,scrollLeft:a.pageXOffset});}function B(a,b){function c(){u("Send Page Info","pageInfo:"+A(),a,b);}x(c,32);}function C(){function d(b,c){function d(){P[g]?B(P[g].iframe,g):e();}["scroll","resize"].forEach(function(e){h(g,b+e+" listener for sendPageInfo"),c(a,e,d);});}function e(){d("Remove ",c);}function f(){d("Add ",b);}var g=W;f(),P[g].stopPageInfo=e;}function D(){P[W]&&P[W].stopPageInfo&&(P[W].stopPageInfo(),delete P[W].stopPageInfo);}function E(){var a=!0;return null===V.iframe&&(j(W,"IFrame ("+V.id+") not found"),a=!1),a;}function F(a){var b=a.getBoundingClientRect();return o(W),{x:Math.floor(Number(b.left)+Number(M.x)),y:Math.floor(Number(b.top)+Number(M.y))};}function G(b){function c(){M=g,H(),h(W,"--");}function d(){return {x:Number(V.width)+f.x,y:Number(V.height)+f.y};}function e(){a.parentIFrame?a.parentIFrame["scrollTo"+(b?"Offset":"")](g.x,g.y):j(W,"Unable to scroll to requested position, window.parentIFrame not found");}var f=b?F(V.iframe):{x:0,y:0},g=d();h(W,"Reposition requested from iFrame (offset x:"+f.x+" y:"+f.y+")"),a.top!==a.self?e():c();}function H(){!1!==N("scrollCallback",M)?p(W):q();}function I(b){function c(){var a=F(g);h(W,"Moving to in page link (#"+e+") at x: "+a.x+" y: "+a.y),M={x:a.x,y:a.y},H(),h(W,"--");}function d(){a.parentIFrame?a.parentIFrame.moveToAnchor(e):h(W,"In page link #"+e+" not found and window.parentIFrame not found");}var e=b.split("#")[1]||"",f=decodeURIComponent(e),g=document.getElementById(f)||document.getElementsByName(f)[0];g?c():a.top!==a.self?d():h(W,"In page link #"+e+" not found");}function N(a,b){return m(W,a,b);}function O(){switch(P[W].firstRun&&T(),V.type){case "close":n(V.iframe);break;case "message":z(y(6));break;case "scrollTo":G(!1);break;case "scrollToOffset":G(!0);break;case "pageInfo":B(P[W].iframe,W),C();break;case "pageInfoStop":D();break;case "inPageLink":I(y(9));break;case "reset":r(V);break;case "init":e(),N("initCallback",V.iframe),N("resizedCallback",V);break;default:e(),N("resizedCallback",V);}}function Q(a){var b=!0;return P[a]||(b=!1,j(V.type+" No settings for "+a+". Message was: "+U)),b;}function S(){for(var a in P)u("iFrame requested init",v(a),document.getElementById(a),a);}function T(){P[W].firstRun=!1;}var U=d.data,V={},W=null;"[iFrameResizerChild]Ready"===U?S():l()?(V=f(),W=R=V.id,!w()&&Q(W)&&(h(W,"Received: "+U),E()&&k()&&O())):i(W,"Ignored: "+U);}function m(a,b,c){var d=null,e=null;if(P[a]){if(d=P[a][b],"function"!=typeof d)throw new TypeError(b+" on iFrame["+a+"] is not a function");e=d(c);}return e;}function n(a){var b=a.id;h(b,"Removing iFrame: "+b),a.parentNode.removeChild(a),m(b,"closedCallback",b),h(b,"--"),delete P[b];}function o(b){null===M&&(M={x:void 0!==a.pageXOffset?a.pageXOffset:document.documentElement.scrollLeft,y:void 0!==a.pageYOffset?a.pageYOffset:document.documentElement.scrollTop},h(b,"Get page position: "+M.x+","+M.y));}function p(b){null!==M&&(a.scrollTo(M.x,M.y),h(b,"Set page position: "+M.x+","+M.y),q());}function q(){M=null;}function r(a){function b(){s(a),u("reset","reset",a.iframe,a.id);}h(a.id,"Size reset requested by "+("init"===a.type?"host page":"iFrame")),o(a.id),t(b,a,"reset");}function s(a){function b(b){a.iframe.style[b]=a[b]+"px",h(a.id,"IFrame ("+e+") "+b+" set to "+a[b]+"px");}function c(b){H||"0"!==a[b]||(H=!0,h(e,"Hidden iFrame detected, creating visibility listener"),y());}function d(a){b(a),c(a);}var e=a.iframe.id;P[e]&&(P[e].sizeHeight&&d("height"),P[e].sizeWidth&&d("width"));}function t(a,b,c){c!==b.type&&N?(h(b.id,"Requesting animation frame"),N(a)):a();}function u(a,b,c,d){function e(){var e=P[d].targetOrigin;h(d,"["+a+"] Sending msg to iframe["+d+"] ("+b+") targetOrigin: "+e),c.contentWindow.postMessage(K+b,e);}function f(){i(d,"["+a+"] IFrame("+d+") not found"),P[d]&&delete P[d];}function g(){c&&"contentWindow" in c&&null!==c.contentWindow?e():f();}d=d||c.id,P[d]&&g();}function v(a){return a+":"+P[a].bodyMarginV1+":"+P[a].sizeWidth+":"+P[a].log+":"+P[a].interval+":"+P[a].enablePublicMethods+":"+P[a].autoResize+":"+P[a].bodyMargin+":"+P[a].heightCalculationMethod+":"+P[a].bodyBackground+":"+P[a].bodyPadding+":"+P[a].tolerance+":"+P[a].inPageLinks+":"+P[a].resizeFrom+":"+P[a].widthCalculationMethod;}function w(a,c){function d(){function b(b){1/0!==P[w][b]&&0!==P[w][b]&&(a.style[b]=P[w][b]+"px",h(w,"Set "+b+" = "+P[w][b]+"px"));}function c(a){if(P[w]["min"+a]>P[w]["max"+a])throw new Error("Value for min"+a+" can not be greater than max"+a);}c("Height"),c("Width"),b("maxHeight"),b("minHeight"),b("maxWidth"),b("minWidth");}function e(){var a=c&&c.id||S.id+F++;return null!==document.getElementById(a)&&(a+=F++),a;}function f(b){return R=b,""===b&&(a.id=b=e(),G=(c||{}).log,R=b,h(b,"Added missing iframe ID: "+b+" ("+a.src+")")),b;}function g(){h(w,"IFrame scrolling "+(P[w].scrolling?"enabled":"disabled")+" for "+w),a.style.overflow=!1===P[w].scrolling?"hidden":"auto",a.scrolling=!1===P[w].scrolling?"no":"yes";}function i(){("number"==typeof P[w].bodyMargin||"0"===P[w].bodyMargin)&&(P[w].bodyMarginV1=P[w].bodyMargin,P[w].bodyMargin=""+P[w].bodyMargin+"px");}function k(){var b=P[w].firstRun,c=P[w].heightCalculationMethod in O;!b&&c&&r({iframe:a,height:0,width:0,type:"init"});}function l(){Function.prototype.bind&&(P[w].iframe.iFrameResizer={close:n.bind(null,P[w].iframe),resize:u.bind(null,"Window resize","resize",P[w].iframe),moveToAnchor:function(a){u("Move to anchor","inPageLink:"+a,P[w].iframe,w);},sendMessage:function(a){a=JSON.stringify(a),u("Send Message","message:"+a,P[w].iframe,w);}});}function m(c){function d(){u("iFrame.onload",c,a),k();}b(a,"load",d),u("init",c,a);}function o(a){if("object"!=typeof a)throw new TypeError("Options is not an object");}function p(a){for(var b in S)S.hasOwnProperty(b)&&(P[w][b]=a.hasOwnProperty(b)?a[b]:S[b]);}function q(a){return ""===a||"file://"===a?"*":a;}function s(b){b=b||{},P[w]={firstRun:!0,iframe:a,remoteHost:a.src.split("/").slice(0,3).join("/")},o(b),p(b),P[w].targetOrigin=!0===P[w].checkOrigin?q(P[w].remoteHost):"*";}function t(){return w in P&&"iFrameResizer" in a;}var w=f(a.id);t()?j(w,"Ignored iFrame, already setup."):(s(c),g(),d(),i(),m(v(w)),l());}function x(a,b){null===Q&&(Q=setTimeout(function(){Q=null,a();},b));}function y(){function b(){function a(a){function b(b){return "0px"===P[a].iframe.style[b];}function c(a){return null!==a.offsetParent;}c(P[a].iframe)&&(b("height")||b("width"))&&u("Visibility change","resize",P[a].iframe,a);}for(var b in P)a(b);}function c(a){h("window","Mutation observed: "+a[0].target+" "+a[0].type),x(b,16);}function d(){var a=document.querySelector("body"),b={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},d=new e(c);d.observe(a,b);}var e=a.MutationObserver||a.WebKitMutationObserver;e&&d();}function z(a){function b(){B("Window "+a,"resize");}h("window","Trigger event: "+a),x(b,16);}function A(){function a(){B("Tab Visable","resize");}"hidden"!==document.visibilityState&&(h("document","Trigger event: Visiblity change"),x(a,16));}function B(a,b){function c(a){return "parent"===P[a].resizeFrom&&P[a].autoResize&&!P[a].firstRun;}for(var d in P)c(d)&&u(a,b,document.getElementById(d),d);}function C(){b(a,"message",l),b(a,"resize",function(){z("resize");}),b(document,"visibilitychange",A),b(document,"-webkit-visibilitychange",A),b(a,"focusin",function(){z("focus");}),b(a,"focus",function(){z("focus");});}function D(){function a(a,c){function d(){if(!c.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==c.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+c.tagName+">");}c&&(d(),w(c,a),b.push(c));}var b;return d(),C(),function(c,d){switch(b=[],typeof d){case "undefined":case "string":Array.prototype.forEach.call(document.querySelectorAll(d||"iframe"),a.bind(void 0,c));break;case "object":a(c,d);break;default:throw new TypeError("Unexpected data type ("+typeof d+")");}return b;};}function E(a){a.fn.iFrameResize=function(a){return this.filter("iframe").each(function(b,c){w(c,a);}).end();};}var F=0,G=!1,H=!1,I="message",J=I.length,K="[iFrameSizer]",L=K.length,M=null,N=a.requestAnimationFrame,O={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},P={},Q=null,R="Host Page",S={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){j("MessageCallback function not defined");},resizedCallback:function(){},scrollCallback:function(){return !0;}};a.jQuery&&E(jQuery),"function"==typeof define&&define.amd?define([],D):"object"==typeof module&&"object"==typeof module.exports?module.exports=D():a.iFrameResize=a.iFrameResize||D();}(window||{});;
(function($,Drupal,once){Drupal.behaviors.dsu_contact_germany={attach:function(context,settings){$(once('DsuContactGermany','#contactForm',context)).each(function(){iFrameResize({log:false},"#contactForm");});}};})(jQuery,Drupal,once);;
(function($,once){'use strict';Drupal.behaviors.dsu_lazy_load={attach:function(context,settings){$(once('lazy-loading-processed','img[data-src]:not([src])',context)).each(function(){new Blazy({loadInvisible:true});});}};})(jQuery,once);;
((Drupal,drupalSettings)=>{Drupal.extlink=Drupal.extlink||{};Drupal.extlink.attach=(context,drupalSettings)=>{if(typeof drupalSettings.data==='undefined'||!drupalSettings.data.hasOwnProperty('extlink'))return;let extIconPlacement='append';if(drupalSettings.data.extlink.extIconPlacement&&drupalSettings.data.extlink.extIconPlacement!=='0')extIconPlacement=drupalSettings.data.extlink.extIconPlacement;const pattern=/^(([^:]+?\.)*)([^.:]+)((\.[a-z0-9]{1,253})*)(:[0-9]{1,5})?$/;const host=window.location.host.replace(pattern,'$2$3$6');const subdomain=window.location.host.replace(host,'');let subdomains;if(drupalSettings.data.extlink.extSubdomains)subdomains='([^/]*\\.)?';else if(subdomain==='www.'||subdomain==='')subdomains='(www\\.)?';else subdomains=subdomain.replace('.','\\.');let whitelistedDomains=false;if(drupalSettings.data.extlink.whitelistedDomains){whitelistedDomains=[];for(let i=0;i<drupalSettings.data.extlink.whitelistedDomains.length;i++)whitelistedDomains.push(new RegExp(`^https?:\\/\\/${drupalSettings.data.extlink.whitelistedDomains[i].replace(/(\r\n|\n|\r)/gm,'')}.*$`,'i'));}const internalLink=new RegExp(`^https?://([^@]*@)?${subdomains}${host}`,'i');let extInclude=false;if(drupalSettings.data.extlink.extInclude)extInclude=new RegExp(drupalSettings.data.extlink.extInclude.replace(/\\/,'\\'),'i');let extExclude=false;if(drupalSettings.data.extlink.extExclude)extExclude=new RegExp(drupalSettings.data.extlink.extExclude.replace(/\\/,'\\'),'i');let extExcludeNoreferrer=false;if(drupalSettings.data.extlink.extExcludeNoreferrer)extExcludeNoreferrer=new RegExp(drupalSettings.data.extlink.extExcludeNoreferrer.replace(/\\/,'\\'),'i');let extCssExclude=false;if(drupalSettings.data.extlink.extCssExclude)extCssExclude=drupalSettings.data.extlink.extCssExclude;let extCssInclude=false;if(drupalSettings.data.extlink.extCssInclude)extCssInclude=drupalSettings.data.extlink.extCssInclude;let extCssExplicit=false;if(drupalSettings.data.extlink.extCssExplicit)extCssExplicit=drupalSettings.data.extlink.extCssExplicit;const externalLinks=[];const mailtoLinks=[];const telLinks=[];const extlinks=context.querySelectorAll('a:not([data-extlink]), area:not([data-extlink])');extlinks.forEach((el)=>{try{let url='';if(typeof el.href==='string')url=el.href.toLowerCase();else{if(typeof el.href==='object')url=el.href.baseVal;}const isExtCssIncluded=extCssInclude&&(el.matches(extCssInclude)||el.closest(extCssInclude));if(url.indexOf('http')===0&&((!internalLink.test(url)&&!(extExclude&&extExclude.test(url)))||(extInclude&&extInclude.test(url))||isExtCssIncluded)&&!(extCssExclude&&el.matches(extCssExclude))&&!(extCssExclude&&el.closest(extCssExclude))&&!(extCssExplicit&&!el.closest(extCssExplicit))){let match=false;if(!isExtCssIncluded&&whitelistedDomains){for(let i=0;i<whitelistedDomains.length;i++)if(whitelistedDomains[i].test(url)){match=true;break;}}if(!match)externalLinks.push(el);}else{if(el.tagName!=='AREA'&&!(extCssExclude&&el.closest(extCssExclude))&&!(extCssExplicit&&!el.closest(extCssExplicit)))if(url.indexOf('mailto:')===0)mailtoLinks.push(el);else{if(url.indexOf('tel:')===0)telLinks.push(el);}}}catch(error){return false;}});const hasExtIcon=drupalSettings.data.extlink.extClass!=='0'&&drupalSettings.data.extlink.extClass!=='';const hasAdditionalExtClasses=drupalSettings.data.extlink.extAdditionalLinkClasses!=='';Drupal.extlink.applyClassAndSpan(externalLinks,'ext',hasExtIcon?extIconPlacement:null);if(hasAdditionalExtClasses)Drupal.extlink.applyClassAndSpan(externalLinks,drupalSettings.data.extlink.extAdditionalLinkClasses,null);const hasMailtoClass=drupalSettings.data.extlink.mailtoClass!=='0'&&drupalSettings.data.extlink.mailtoClass!=='';const hasAdditionalMailtoClasses=drupalSettings.data.extlink.extAdditionalMailtoClasses!=='';if(hasMailtoClass)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.mailtoClass,extIconPlacement);if(hasAdditionalMailtoClasses)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.extAdditionalMailtoClasses,null);const hasTelClass=drupalSettings.data.extlink.telClass!=='0'&&drupalSettings.data.extlink.telClass!=='';const hasAdditionalTelClasses=drupalSettings.data.extlink.extAdditionalTelClasses!=='0'&&drupalSettings.data.extlink.extAdditionalTelClasses!=='';if(hasTelClass)Drupal.extlink.applyClassAndSpan(telLinks,drupalSettings.data.extlink.telClass,extIconPlacement);if(hasAdditionalTelClasses)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.extAdditionalTelClasses,null);if(drupalSettings.data.extlink.extTarget){externalLinks.forEach((link,i)=>{if(!(drupalSettings.data.extlink.extTargetNoOverride&&link.matches('a[target]')))externalLinks[i].setAttribute('target','_blank');});externalLinks.forEach((link,i)=>{const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','noopener');return;}if(val.indexOf('noopener')>-1)if(val.indexOf('noopener')===-1)externalLinks[i].setAttribute('rel',`${val} noopener`);else{}else externalLinks[i].setAttribute('rel',`${val} noopener`);});}if(drupalSettings.data.extlink.extNofollow)externalLinks.forEach((link,i)=>{const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','nofollow');return;}let target='nofollow';if(drupalSettings.data.extlink.extFollowNoOverride)target='follow';if(val.indexOf(target)===-1)externalLinks[i].setAttribute('rel',`${val} nofollow`);});if(drupalSettings.data.extlink.extNoreferrer)externalLinks.forEach((link,i)=>{if(drupalSettings.data.extlink.extExcludeNoreferrer&&extExcludeNoreferrer.test(link.getAttribute('href')))return;const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','noreferrer');return;}externalLinks[i].setAttribute('rel',`${val} noreferrer`);});externalLinks.forEach((link,i)=>{const oldTitle=link.getAttribute('title');let newTitle=drupalSettings.data.extlink.extTargetAppendNewWindowLabel;if(oldTitle!==null){if(Drupal.extlink.hasNewWindowText(oldTitle))return;newTitle=Drupal.extlink.combineLabels(oldTitle,newTitle);}externalLinks[i].setAttribute('title',newTitle);});Drupal.extlink=Drupal.extlink||{};Drupal.extlink.popupClickHandler=Drupal.extlink.popupClickHandler||(()=>{if(drupalSettings.data.extlink.extAlert)return confirm(drupalSettings.data.extlink.extAlertText);});const _that=this;Drupal.extlink.handleClick=function(event){const shouldNavigate=Drupal.extlink.popupClickHandler.call(_that);if(typeof shouldNavigate!=='undefined'&&!shouldNavigate)event.preventDefault();};externalLinks.forEach((val,i)=>{externalLinks[i].removeEventListener('click',Drupal.extlink.handleClick);externalLinks[i].addEventListener('click',Drupal.extlink.handleClick);});};Drupal.extlink.hasNewWindowText=function(label){return label.toLowerCase().indexOf(Drupal.t('new window'))!==-1;};Drupal.extlink.combineLabels=function(labelA,labelB){labelA=labelA||'';labelB=labelB||'';const labelANoParens=labelA.trim().replace('(','').replace(')','');const labelBNoParens=labelB.trim().replace('(','').replace(')','');if(labelA===labelANoParens){if(labelB===labelBNoParens)return `${labelA}, ${labelB}`;return `${labelA} ${labelB}`;}if(labelB===labelBNoParens)return `${labelB} ${labelA}`;return `(${labelANoParens}, ${labelBNoParens})`;};Drupal.extlink.applyClassAndSpan=(links,className,iconPlacement)=>{let linksToProcess;if(drupalSettings.data.extlink.extImgClass)linksToProcess=links;else linksToProcess=links.filter((link)=>{return link.querySelector('img, svg')===null;});for(let i=0;i<linksToProcess.length;i++){if(className!=='0')linksToProcess[i].classList.add(className);if(className===drupalSettings.data.extlink.mailtoClass&&drupalSettings.data.extlink.extAdditionalMailtoClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalMailtoClasses);else if(className===drupalSettings.data.extlink.telClass&&drupalSettings.data.extlink.extAdditionalTelClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalTelClasses);else{if(drupalSettings.data.extlink.extAdditionalLinkClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalLinkClasses);}linksToProcess[i].setAttribute('data-extlink','');if(iconPlacement){let link=linksToProcess[i];if(iconPlacement==='append'){let lastTextNode=link.lastChild;let trailingWhitespace=null;let parentNode=link;while(lastTextNode)if(lastTextNode.lastChild){parentNode=lastTextNode;lastTextNode=lastTextNode.lastChild;}else if(lastTextNode.nodeName==='#text'&&parentNode.lastElementChild&&lastTextNode.textContent.trim().length===0){trailingWhitespace=lastTextNode;parentNode=parentNode.lastElementChild;lastTextNode=parentNode.lastChild;}else break;if(lastTextNode&&lastTextNode.nodeName==='#text'&&lastTextNode.textContent.length>0){const lastText=lastTextNode.textContent;const lastWordRegex=new RegExp(/\S+\s*$/,'g');const lastWord=lastText.match(lastWordRegex);if(lastWord!==null){const breakPreventer=document.createElement('span');breakPreventer.classList.add('extlink-nobreak');breakPreventer.textContent=lastWord[0];if(trailingWhitespace){breakPreventer.append(trailingWhitespace.textContent);trailingWhitespace.textContent='';}lastTextNode.textContent=lastText.substring(0,lastText.length-lastWord[0].length);lastTextNode.parentNode.append(breakPreventer);link=breakPreventer;}}}let iconElement;if(drupalSettings.data.extlink.extUseFontAwesome){iconElement=document.createElement('span');iconElement.setAttribute('class',`fa-${className} extlink`);if(className===drupalSettings.data.extlink.mailtoClass){if(drupalSettings.data.extlink.mailtoLabel)link.ariaLabel=drupalSettings.data.extlink.mailtoLabel;iconElement.innerHTML=`<span class="${drupalSettings.data.extlink.extFaMailtoClasses}" data-extlink-placement="${iconPlacement}"></span>`;}else if(className===drupalSettings.data.extlink.extClass){if(drupalSettings.data.extlink.extLabel)link.ariaLabel=drupalSettings.data.extlink.extLabel;iconElement.innerHTML=`<span class="${drupalSettings.data.extlink.extFaLinkClasses}" data-extlink-placement="${iconPlacement}"></span>`;}else{if(className===drupalSettings.data.extlink.telClass){if(drupalSettings.data.extlink.telLabel)link.ariaLabel=drupalSettings.data.extlink.telLabel;iconElement.innerHTML=`<span class="${drupalSettings.data.extlink.extFaTelClasses}" data-extlink-placement="${iconPlacement}"></span>`;}}}else{iconElement=document.createElementNS('http://www.w3.org/2000/svg','svg');iconElement.setAttribute('focusable','false');iconElement.classList.add(className);iconElement.setAttribute('data-extlink-placement',iconPlacement);if(className===drupalSettings.data.extlink.mailtoClass){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.mailtoLabel);iconElement.setAttribute('viewBox','0 10 70 20');iconElement.innerHTML=`<metadata><sfw xmlns="http://ns.adobe.com/SaveForWeb/1.0/"><sliceSourceBounds y="-8160" x="-8165" width="16389" height="16384" bottomLeftOrigin="true"/><optimizationSettings><targetSettings targetSettingsID="0" fileFormat="PNG24Format"><PNG24Format transparency="true" filtered="false" interlaced="false" noMatteColor="false" matteColor="#FFFFFF"/></targetSettings></optimizationSettings></sfw></metadata><title>${drupalSettings.data.extlink.mailtoLabel}</title><path d="M56 14H8c-1.1 0-2 0.9-2 2v32c0 1.1 0.9 2 2 2h48c1.1 0 2-0.9 2-2V16C58 14.9 57.1 14 56 14zM50.5 18L32 33.4 13.5 18H50.5zM10 46V20.3l20.7 17.3C31.1 37.8 31.5 38 32 38s0.9-0.2 1.3-0.5L54 20.3V46H10z"/>`;}else if(className===drupalSettings.data.extlink.extClass){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.extLabel);iconElement.setAttribute('viewBox','0 0 80 40');iconElement.innerHTML=`<metadata><sfw xmlns="http://ns.adobe.com/SaveForWeb/1.0/"><sliceSourceBounds y="-8160" x="-8165" width="16389" height="16384" bottomLeftOrigin="true"/><optimizationSettings><targetSettings targetSettingsID="0" fileFormat="PNG24Format"><PNG24Format transparency="true" filtered="false" interlaced="false" noMatteColor="false" matteColor="#FFFFFF"/></targetSettings></optimizationSettings></sfw></metadata><title>${drupalSettings.data.extlink.extLabel}</title><path d="M48 26c-1.1 0-2 0.9-2 2v26H10V18h26c1.1 0 2-0.9 2-2s-0.9-2-2-2H8c-1.1 0-2 0.9-2 2v40c0 1.1 0.9 2 2 2h40c1.1 0 2-0.9 2-2V28C50 26.9 49.1 26 48 26z"/><path d="M56 6H44c-1.1 0-2 0.9-2 2s0.9 2 2 2h7.2L30.6 30.6c-0.8 0.8-0.8 2 0 2.8C31 33.8 31.5 34 32 34s1-0.2 1.4-0.6L54 12.8V20c0 1.1 0.9 2 2 2s2-0.9 2-2V8C58 6.9 57.1 6 56 6z"/>`;}else{if(className===drupalSettings.data.extlink.telClass){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.telLabel);iconElement.setAttribute('viewBox','0 0 181.352 181.352');iconElement.innerHTML=`<metadata><sfw xmlns="http://ns.adobe.com/SaveForWeb/1.0/"><sliceSourceBounds y="-8160" x="-8165" width="16389" height="16384" bottomLeftOrigin="true"/><optimizationSettings><targetSettings targetSettingsID="0" fileFormat="PNG24Format"><PNG24Format transparency="true" filtered="false" interlaced="false" noMatteColor="false" matteColor="#FFFFFF"/></targetSettings></optimizationSettings></sfw></metadata><title>${drupalSettings.data.extlink.telLabel}</title><path xmlns="http://www.w3.org/2000/svg"  d="M169.393,167.37l-14.919,9.848c-9.604,6.614-50.531,14.049-106.211-53.404     C-5.415,58.873,9.934,22.86,17.134,14.555L29.523,1.678c2.921-2.491,7.328-2.198,9.839,0.811l32.583,38.543l0.02,0.02     c2.384,2.824,2.306,7.22-0.83,9.868v0.029l-14.44,10.415c-5.716,5.667-0.733,14.587,5.11,23.204l27.786,32.808     c12.926,12.477,20.009,18.241,26.194,14.118l12.008-13.395c2.941-2.472,7.328-2.169,9.839,0.821l32.603,38.543v0.02     C172.607,160.316,172.519,164.703,169.393,167.37z"/>`;}}}iconElement.setAttribute('role','img');if(!iconElement.getAttribute('aria-label'))iconElement.setAttribute('aria-label',drupalSettings.data.extlink.extLabel);iconElement.setAttribute('aria-hidden',drupalSettings.data.extlink.extHideIcons);link[iconPlacement](iconElement);}}};Drupal.behaviors.extlink=Drupal.behaviors.extlink||{};Drupal.behaviors.extlink.attach=(context,drupalSettings)=>{if(typeof extlinkAttach==='function')extlinkAttach(context);else Drupal.extlink.attach(context,drupalSettings);};})(Drupal,drupalSettings);;
var gigyaHelper={addGigyaScript:function(apiKey,lang,apiDomain){var gig=document.createElement('script');gig.type='text/javascript';gig.async=true;gig.src=('https:'===document.location.protocol?'https://cdns':'http://cdn')+'.'+apiDomain+'/js/gigya.js?apiKey='+apiKey+'&lang='+lang;document.getElementsByTagName('head')[0].appendChild(gig);},addGigyaFunctionCall:function(method,params){window.gigyaCmsInit=window.gigyaCmsInit||[];var func={function:method,parameters:params};window.gigyaCmsInit.push(func);},onLoginHandler:function(res){var data={"uid":res.UID,"uigSig":res.UIDSignature,"sigTimestamp":res.signatureTimestamp},serverSideUrl="edit this to point to the url that would receive the the info";jQuery.ajax(serverSideUrl,{data,dataType:"text",type:"POST",async:false,global:false}).done(function(res){var response=JSON.parse(res);if(response.success==="success"){}else gigya.accounts.logout();}).fail(function(){gigya.accounts.logout();});},runGigyaCmsInit:function(){if(window.gigyaCmsInit){var length=window.gigyaCmsInit.length,element=null;if(length>0)for(var i=0;i<length;i++){element=window.gigyaCmsInit[i];func=element.function;var parts=func.split("\.");var f=gigya[parts[0]][parts[1]];if(typeof f==="function")f(element.parameters);}}}};;
(function($,Drupal,drupalSettings){'use strict';var init=function(){window.__gigyaConf=drupalSettings.gigya.globalParameters;gigyaHelper.addGigyaScript(drupalSettings.gigya.apiKey,drupalSettings.gigya.lang,drupalSettings.gigya.dataCenter);drupalSettings.gigya.isInit=true;};Drupal.behaviors.gigyaInit={attach:function(context,settings){if(!('isInit' in drupalSettings.gigya))init();}};})(jQuery,Drupal,drupalSettings);;
var getUrlPrefix=function(){return drupalSettings.path.pathPrefix?(drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix):drupalSettings.path.baseUrl;};(function($,Drupal,drupalSettings){'use strict';if(!String.prototype.startsWith)String.prototype.startsWith=function(searchString,position){position=position||0;return this.indexOf(searchString,position)===position;};jQuery.fn.loginRedirect=function(redirectTarget){if(!redirectTarget.startsWith('http')){if(redirectTarget.startsWith(drupalSettings.path.baseUrl))redirectTarget=redirectTarget.substring(drupalSettings.path.baseUrl.length);redirectTarget=drupalSettings.gigya.raas.origin+drupalSettings.path.baseUrl+redirectTarget;}if(typeof sendSetSSOToken==='undefined'||sendSetSSOToken===false)location.replace(redirectTarget);else{if(sendSetSSOToken===true)gigya.setSSOToken({redirectURL:redirectTarget});}};jQuery.fn.logoutRedirect=function(redirectTarget){if(redirectTarget.startsWith(drupalSettings.path.baseUrl))redirectTarget=redirectTarget.substring(drupalSettings.path.baseUrl.length);redirectTarget=drupalSettings.gigya.raas.origin+getUrlPrefix()+redirectTarget;document.location=redirectTarget;};var initLoginUI=function(){if(typeof drupalSettings.gigya.loginUIParams!=='undefined')$.each(drupalSettings.gigya.loginUIParams,function(index,value){value.context={id:value.containerID};gigya.services.socialize.showLoginUI(value);});};var getRememberMeStatus=function(res){var remember=false;if(typeof res.groupContext!=='undefined'){var groupRemember=JSON.parse(res.groupContext).remember;if(typeof groupRemember!=='undefined')remember=groupRemember;}if(typeof res.remember!=='undefined')remember=res.remember;return remember;};var onLoginHandler=function(res){var remember=getRememberMeStatus(res);gigya.setGroupContext({"remember":remember});var url=drupalSettings.path.baseUrl+'gigya/raas-login';if(typeof drupalSettings.gigyaExtra!='undefined'&&typeof drupalSettings.gigyaExtra.loginRedirectMode!='undefined'&&drupalSettings.gigyaExtra.loginRedirectMode==='current'){url+='?destination=/'+drupalSettings.path.currentPath;if(typeof drupalSettings.path.currentQuery=='object')url+=encodeURIComponent('?'+$.param(drupalSettings.path.currentQuery));}var ajaxSettings={url,submit:data};var data={"uid":res.UID,"uid_sig":res.UIDSignature,"sig_timestamp":res.signatureTimestamp,"id_token":res.id_token,"remember":remember};var ajaxSettings={url:getUrlPrefix()+'gigya/raas-login',submit:data};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();};var profileUpdated=function(data){if(data.response.errorCode===0){var gigyaData={UID:data.response.UID,UIDSignature:data.response.UIDSignature,signatureTimestamp:data.response.signatureTimestamp,id_token:data.response.id_token};var ajaxSettings={url:getUrlPrefix()+'gigya/raas-profile-update',submit:{gigyaData}};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();}};var checkLogout=function(){var logoutCookie=gigya.utils.cookie.get('Drupal.visitor.gigya');if(logoutCookie==='gigyaLogOut'){gigya.accounts.logout();gigya.utils.cookie.remove('Drupal.visitor.gigya');}};var onLogoutHandler=function(){var data={};var ajaxSettings={url:getUrlPrefix()+'gigya/raas-logout',submit:data};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();};var validateSessionAndCreateUbcCookie=function(response){if(response['errorCode']===0){var data={"uid":response.UID,"uid_sig":response.UIDSignature,"sig_timestamp":response.signatureTimestamp,"id_token":response.id_token,"is_session_validation_process":true};var ajaxSettings={url:getUrlPrefix()+'gigya/raas-login',submit:data};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();}else gigya.accounts.logout();};var initRaaS=function(){if(drupalSettings.gigya.enableRaaS){var id;if(drupalSettings.gigya.shouldValidateSession)gigya.accounts.getAccountInfo({include:'id_token'},{callback:validateSessionAndCreateUbcCookie});$(once('gigya-raas','.gigya-raas-login')).each(function(){$(this).on('click',function(e){e.preventDefault();gigya.accounts.showScreenSet(drupalSettings.gigya.raas.login);drupalSettings.gigya.raas.linkId=$(this).attr('id');});});$(once('gigya-raas','.gigya-raas-reg')).each(function(){$(this).on('click',function(e){e.preventDefault();gigya.accounts.showScreenSet(drupalSettings.gigya.raas.register);drupalSettings.gigya.raas.linkId=$(this).attr('id');});});$(once('gigya-raas','.gigya-raas-prof, a[href="/user"]')).each(function(){$(this).on('click',function(e){e.preventDefault();drupalSettings.gigya.raas.profile.onAfterSubmit=profileUpdated;gigya.accounts.showScreenSet(drupalSettings.gigya.raas.profile);});});var loginDiv=$('#gigya-raas-login-div');if(loginDiv.length>0&&(typeof drupalSettings.gigya.raas.login!=='undefined')){id=loginDiv.eq(0).attr('id');drupalSettings.gigya.raas.login.containerID=id;drupalSettings.gigya.raas.linkId=id;gigya.accounts.showScreenSet(drupalSettings.gigya.raas.login);}var regDiv=$('#gigya-raas-register-div');if(regDiv.length>0&&(typeof drupalSettings.gigya.raas.register!=='undefined')){id=regDiv.eq(0).attr('id');drupalSettings.gigya.raas.register.containerID=id;drupalSettings.gigya.raas.linkId=id;gigya.accounts.showScreenSet(drupalSettings.gigya.raas.register);}var profDiv=$('#gigya-raas-profile-div');if((profDiv.length>0)&&(typeof drupalSettings.gigya.raas.profile!=='undefined')){drupalSettings.gigya.raas.profile.containerID=profDiv.eq(0).attr('id');drupalSettings.gigya.raas.profile.onAfterSubmit=profileUpdated;gigya.accounts.showScreenSet(drupalSettings.gigya.raas.profile);}}};var initCustomScreenSet=function(){if(drupalSettings.gigya.enableRaaS){var customScreenSets=drupalSettings.gigya.raas.customScreenSets;customScreenSets.forEach(function(custom_screenset){if(typeof custom_screenset.display_type!=='undefined'){var screenset_params={screenSet:custom_screenset.desktop_screenset,mobileScreenSet:custom_screenset.mobile_screenset};if(parseInt(custom_screenset.sync_data)===1)screenset_params['onAfterSubmit']=processFieldMapping;if(custom_screenset.display_type==='popup')$('#'+custom_screenset.link_id).click(function(e){e.preventDefault();gigya.accounts.showScreenSet(screenset_params);drupalSettings.gigya.raas.linkId=$(this).attr('id');});else{if(custom_screenset.display_type==='embed'){screenset_params['containerID']=custom_screenset.container_id;gigya.accounts.showScreenSet(screenset_params);}}}});}};const linkDataForMenuLinkScreen=[{hashLink:"#gigya-login",screen:drupalSettings.gigya.raas.login},{hashLink:"#gigya-register",screen:drupalSettings.gigya.raas.register},{hashLink:"#gigya-editProfile",screen:drupalSettings.gigya.raas.profile}];var findTheRightScreenAndShowIt=function(){linkDataForMenuLinkScreen.forEach(showMenuLinkScreen);};var showMenuLinkScreen=function(linkData){if($(location).attr('hash')===linkData.hashLink)if(typeof gigya!=='undefined'){if(linkData.hashLink==='#gigya-editProfile')drupalSettings.gigya.raas.profile.onAfterSubmit=profileUpdated;gigya.accounts.showScreenSet(linkData.screen);drupalSettings.gigya.raas.linkId=$(this).attr('id');}else setTimeout(showMenuLinkScreen,200);};addEventListener('hashChange',findTheRightScreenAndShowIt);$('.menu a').click(function(){findTheRightScreenAndShowIt();});var processFieldMapping=function(data){var gigyaData={UID:data.response.UID,UIDSignature:data.response.UIDSignature,signatureTimestamp:data.response.signatureTimestamp};var ajaxSettings={url:getUrlPrefix()+'gigya/raas-process-fieldmapping',submit:{gigyaData}};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();};var init=function(){if(drupalSettings.gigya.enableRaaS)gigyaHelper.addGigyaFunctionCall('accounts.addEventHandlers',{onLogin:onLoginHandler,onLogout:onLogoutHandler});drupalSettings.gigya.isRaasInit=true;};Drupal.behaviors.gigyaRaasInit={attach:function(context,settings){if(!('isRaasInit' in drupalSettings.gigya)){window.onGigyaServiceReady=function(serviceName){checkLogout();gigyaHelper.runGigyaCmsInit();initLoginUI();initRaaS();initCustomScreenSet();};init();}}};})(jQuery,Drupal,drupalSettings);;
(function(Drupal){Drupal.AjaxCommands.prototype.gtagEvent=function(ajax,response){gtag('event',response.event_name,response.data);};})(Drupal);;
(function($,Drupal,once){'use strict';Drupal.behaviors.backtotop={attach:function(context,settings){$(once('scroll-back-to-top','#backtotop')).off().on('click',function(e){e.preventDefault();$("html, body").animate({scrollTop:0},1000);});}};})(jQuery,Drupal,once);;
(function($,Drupal,once,drupalSettings){'use strict';Drupal.behaviors.ln_ciam_full_registration={attach:function(context,settings){if(once('ln_ciam_full_registration','html').length&&drupalSettings.user.uid>0&&!localStorage.getItem('ln_ciam_login')){let gigyaFunctions=window.onGigyaServiceReady!==undefined?window.onGigyaServiceReady:(()=>void 0);window.onGigyaServiceReady=function(serviceName){gigyaFunctions();localStorage.setItem('ln_ciam_login','true');if(typeof gigya.thisScript.globalConf.onDrupalLogin==="function")gigya.thisScript.globalConf.onDrupalLogin();};}}};})(jQuery,Drupal,once,drupalSettings);;
(function($,Drupal,once,drupalSettings){'use strict';Drupal.behaviors.ln_datalayer_api_events={attach:function(context,settings){if(drupalSettings.ln_datalayer&&drupalSettings.ln_datalayer.events){for(let event_name in drupalSettings.ln_datalayer.events){let event=drupalSettings.ln_datalayer.events[event_name];if(event.hasOwnProperty('event')){if(!event.hasOwnProperty('module_name'))event.module_name=drupalSettings.ln_datalayer.data.module_name;if(!event.hasOwnProperty('module_version'))event.module_version=drupalSettings.ln_datalayer.data.module_version;if(event.hasOwnProperty('content_id')&&event.content_id=='')event.content_id=drupalSettings.ln_datalayer.data.content_id;if(event.hasOwnProperty('content_name')&&event.content_name=='')event.content_name=drupalSettings.ln_datalayer.data.content_name;if(event.hasOwnProperty('recipe_id')&&event.recipe_id=='')event.recipe_id=drupalSettings.ln_datalayer.data.content_id;if(event.hasOwnProperty('recipe_name')&&event.recipe_name=='')event.recipe_name=drupalSettings.ln_datalayer.data.content_name;if(event.hasOwnProperty('item_id')&&event.item_id=='')event.item_id=drupalSettings.ln_datalayer.data.content_id;if(event.hasOwnProperty('item_name')&&event.item_name=='')event.item_name=drupalSettings.ln_datalayer.data.content_name;window.dataLayer=window.dataLayer||[];window.dataLayer.push(event);}}delete drupalSettings.ln_datalayer.events;}}};Drupal.behaviors.ln_datalayer_global_events={attach:function(context,settings){$(once('ln_datalayer_cta_click','.field--name-field-c-link a')).click(function(ev){let $link=$(this);let domain='';try{let url=$link.attr('href');if(url.startsWith('/'))url=document.location.origin+url;domain=new URL(url).hostname;}catch(e){}window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'cta_click','event_name':'cta_click','link_classes':$link.attr('class'),'link_domain':domain,'link_id':$link.attr('id'),'link_text':$link.text(),'link_url':$link.attr('href'),'module_name':drupalSettings.ln_datalayer.data.module_name,'module_version':drupalSettings.ln_datalayer.data.module_version});});$(once('ln_datalayer_outbound_link',"a[target='_blank']")).click(function(ev){let $link=$(this);let domain='';try{let url=$link.attr('href');if(url.startsWith('/'))url=document.location.origin+url;domain=new URL(url).hostname;}catch(e){}window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'outbound_link','event_name':'outbound_link','link_classes':$link.attr('class'),'link_domain':domain,'link_id':$link.attr('id'),'link_url':$link.attr('href'),'outbound (boolean)':true,'module_name':drupalSettings.ln_datalayer.data.module_name,'module_version':drupalSettings.ln_datalayer.data.module_version});});$(once('ln_datalayer_input','.form-managed-file')).click(function(ev){window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'drupal_upload_submit','event_name':'drupal_upload_submit','module_name':drupalSettings.ln_datalayer.data.module_name,'module_version':drupalSettings.ln_datalayer.data.module_version});});if($('.form-type-managed-file').siblings(".alert-wrapper").length){window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'drupal_upload_error','event_name':'drupal_upload_error','error_name':$(".alert-wrapper .item-list").text(),'module_name':drupalSettings.ln_datalayer.data.module_name,'module_version':drupalSettings.ln_datalayer.data.module_version});}}};})(jQuery,Drupal,once,drupalSettings);;
(($,Drupal,drupalSettings,once)=>{if(!Drupal.autocomplete)return;const autocomplete={};autocomplete.getSettings=(input,globalSettings)=>{globalSettings=globalSettings||drupalSettings||{};const settings={auto_submit:false,delay:0,min_length:1,selector:':submit'};const search=$(input).data('search-api-autocomplete-search');if(search&&globalSettings.search_api_autocomplete&&globalSettings.search_api_autocomplete[search])$.extend(settings,globalSettings.search_api_autocomplete[search]);return settings;};Drupal.behaviors.searchApiAutocomplete={attach(context,settings){const s='.ui-autocomplete-input[data-search-api-autocomplete-search]';$(once('search-api-autocomplete',s,context)).each(function foreach(){const uiAutocomplete=$(this).data('ui-autocomplete');if(!uiAutocomplete)return;uiAutocomplete.element.autocomplete('option','appendTo',uiAutocomplete.element.parent());const $element=uiAutocomplete.menu.element;$element.data('search-api-autocomplete-input-id',this.id);$element.addClass('search-api-autocomplete-search');$element.attr('tabindex','-1');const elementSettings=autocomplete.getSettings(this,settings);if(elementSettings.delay)uiAutocomplete.options.delay=elementSettings.delay;if(elementSettings.min_length)uiAutocomplete.options.minLength=elementSettings.min_length;const oldSelect=uiAutocomplete.options.select;uiAutocomplete.options.select=function select(event,ui,...args){if(ui.item.url){if(event.keyCode===9)return false;window.location.href=ui.item.url;return false;}const ret=oldSelect.apply(this,[event,ui,...args]);if(elementSettings.auto_submit&&elementSettings.selector)$(elementSettings.selector,this.form).trigger('click');return ret;};});}};Drupal.SearchApiAutocomplete=autocomplete;})(jQuery,Drupal,drupalSettings,once);;
/* @license GPL-2.0-or-later https://raw.githubusercontent.com/jquery-form/form/master/LICENSE */
(function(factory){if(typeof define==='function'&&define.amd)define(['jquery'],factory);else if(typeof module==='object'&&module.exports)module.exports=function(root,jQuery){if(typeof jQuery==='undefined')if(typeof window!=='undefined')jQuery=require('jquery');else jQuery=require('jquery')(root);factory(jQuery);return jQuery;};else factory(jQuery);}(function($){'use strict';var rCRLF=/\r?\n/g;var feature={};feature.fileapi=$('<input type="file">').get(0).files!==undefined;feature.formdata=(typeof window.FormData!=='undefined');var hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp)return this.attr.apply(this,arguments);var val=this.prop.apply(this,arguments);if((val&&val.jquery)||typeof val==='string')return val;return this.attr.apply(this,arguments);};$.fn.ajaxSubmit=function(options,data,dataType,onSuccess){if(!this.length){log('ajaxSubmit: skipping submit process - no element selected');return this;}var method,action,url,isMsie,iframeSrc,$form=this;if(typeof options==='function')options={success:options};else if(typeof options==='string'||(options===false&&arguments.length>0)){options={'url':options,'data':data,'dataType':dataType};if(typeof onSuccess==='function')options.success=onSuccess;}else{if(typeof options==='undefined')options={};}method=options.method||options.type||this.attr2('method');action=options.url||this.attr2('action');url=(typeof action==='string')?action.trim():'';url=url||window.location.href||'';if(url)url=(url.match(/^([^#]+)/)||[])[1];isMsie=/(MSIE|Trident)/.test(navigator.userAgent||'');iframeSrc=(isMsie&&/^https/i.test(window.location.href||''))?'javascript:false':'about:blank';options=$.extend(true,{url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc},options);var veto={};this.trigger('form-pre-serialize',[this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');return this;}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log('ajaxSubmit: submit aborted via beforeSerialize callback');return this;}var traditional=options.traditional;if(typeof traditional==='undefined')traditional=$.ajaxSettings.traditional;var elements=[];var qx,a=this.formToArray(options.semantic,elements,options.filtering);if(options.data){var optionsData=typeof (options.data)==="function"?options.data(a):options.data;options.extraData=optionsData;qx=$.param(optionsData,traditional);}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log('ajaxSubmit: submit aborted via beforeSubmit callback');return this;}this.trigger('form-submit-validate',[a,this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-submit-validate trigger');return this;}var q=$.param(a,traditional);if(qx)q=(q?(q+'&'+qx):qx);if(options.type.toUpperCase()==='GET'){options.url+=(options.url.indexOf('?')>=0?'&':'?')+q;options.data=null;}else options.data=q;var callbacks=[];if(options.resetForm)callbacks.push(function(){$form.resetForm();});if(options.clearForm)callbacks.push(function(){$form.clearForm(options.includeHidden);});if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data,textStatus,jqXHR){var successArguments=arguments,fn=options.replaceTarget?'replaceWith':'html';$(options.target)[fn](data).each(function(){oldSuccess.apply(this,successArguments);});});}else{if(options.success)if(Array.isArray(options.success))callbacks=callbacks.concat(options.success);else callbacks.push(options.success);}options.success=function(data,status,xhr){var context=options.context||this;for(var i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form]);};if(options.error){var oldError=options.error;options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form]);};}if(options.complete){var oldComplete=options.complete;options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form]);};}var fileInputs=$('input[type=file]:enabled',this).filter(function(){return $(this).val()!=='';});var hasFileInputs=fileInputs.length>0;var mp='multipart/form-data';var multipart=($form.attr('enctype')===mp||$form.attr('encoding')===mp);var fileAPI=feature.fileapi&&feature.formdata;log('fileAPI :'+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;var jqxhr;if(options.iframe!==false&&(options.iframe||shouldUseFrame))if(options.closeKeepAlive)$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a);});else jqxhr=fileUploadIframe(a);else if((hasFileInputs||multipart)&&fileAPI)jqxhr=fileUploadXhr(a);else jqxhr=$.ajax(options);$form.removeData('jqxhr').data('jqxhr',jqxhr);for(var k=0;k<elements.length;k++)elements[k]=null;this.trigger('form-submit-notify',[this,options]);return this;function deepSerialize(extraData){var serialized=$.param(extraData,options.traditional).split('&');var len=serialized.length;var result=[];var i,part;for(i=0;i<len;i++){serialized[i]=serialized[i].replace(/\+/g,' ');part=serialized[i].split('=');result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])]);}return result;}function fileUploadXhr(a){var formdata=new FormData();for(var i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData){var serializedData=deepSerialize(options.extraData);for(i=0;i<serializedData.length;i++)if(serializedData[i])formdata.append(serializedData[i][0],serializedData[i][1]);}options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:method||'POST'});if(options.uploadProgress)s.xhr=function(){var xhr=$.ajaxSettings.xhr();if(xhr.upload)xhr.upload.addEventListener('progress',function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable)percent=Math.ceil(position/total*100);options.uploadProgress(event,position,total,percent);},false);return xhr;};s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){if(options.formData)o.data=options.formData;else o.data=formdata;if(beforeSend)beforeSend.call(this,xhr,o);};return $.ajax(s);}function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var deferred=$.Deferred();deferred.abort=function(status){xhr.abort(status);};if(a)for(i=0;i<elements.length;i++){el=$(elements[i]);if(hasProp)el.prop('disabled',false);else el.removeAttr('disabled');}s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id='jqFormIO'+new Date().getTime();var ownerDocument=form.ownerDocument;var $body=$form.closest('body');if(s.iframeTarget){$io=$(s.iframeTarget,ownerDocument);n=$io.attr2('name');if(!n)$io.attr2('name',id);else id=n;}else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />',ownerDocument);$io.css({position:'absolute',top:'-1000px',left:'-1000px'});}io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:'n/a',getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=(status==='timeout'?'timeout':'aborted');log('aborting upload... '+e);this.aborted=1;try{if(io.contentWindow.document.execCommand)io.contentWindow.document.execCommand('Stop');}catch(ignore){}$io.attr('src',s.iframeSrc);xhr.error=e;if(s.error)s.error.call(s.context,xhr,e,status);if(g)$.event.trigger('ajaxError',[xhr,s,e]);if(s.complete)s.complete.call(s.context,xhr,e);}};g=s.global;if(g&&$.active++===0)$.event.trigger('ajaxStart');if(g)$.event.trigger('ajaxSend',[xhr,s]);if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global)$.active--;deferred.reject();return deferred;}if(xhr.aborted){deferred.reject();return deferred;}sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type==='image'){s.extraData[n+'.x']=form.clk_x;s.extraData[n+'.y']=form.clk_y;}}}var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=null;try{if(frame.contentWindow)doc=frame.contentWindow.document;}catch(err){log('cannot get iframe.contentWindow document: '+err);}if(doc)return doc;try{doc=frame.contentDocument?frame.contentDocument:frame.document;}catch(err){log('cannot get iframe.contentDocument: '+err);doc=frame.document;}return doc;}var csrf_token=$('meta[name=csrf-token]').attr('content');var csrf_param=$('meta[name=csrf-param]').attr('content');if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token;}function doSubmit(){var t=$form.attr2('target'),a=$form.attr2('action'),mp='multipart/form-data',et=$form.attr('enctype')||$form.attr('encoding')||mp;form.setAttribute('target',id);if(!method||/post/i.test(method))form.setAttribute('method','POST');if(a!==s.url)form.setAttribute('action',s.url);if(!s.skipEncodingOverride&&(!method||/post/i.test(method)))$form.attr({encoding:'multipart/form-data',enctype:'multipart/form-data'});if(s.timeout)timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT);},s.timeout);function checkState(){try{var state=getDoc(io).readyState;log('state = '+state);if(state&&state.toLowerCase()==='uninitialized')setTimeout(checkState,50);}catch(e){log('Server abort: ',e,' (',e.name,')');cb(SERVER_ABORT);if(timeoutHandle)clearTimeout(timeoutHandle);timeoutHandle=undefined;}}var extraInputs=[];try{if(s.extraData)for(var n in s.extraData)if(s.extraData.hasOwnProperty(n))if($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty('name')&&s.extraData[n].hasOwnProperty('value'))extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">',ownerDocument).val(s.extraData[n].value).appendTo(form)[0]);else extraInputs.push($('<input type="hidden" name="'+n+'">',ownerDocument).val(s.extraData[n]).appendTo(form)[0]);if(!s.iframeTarget)$io.appendTo($body);if(io.attachEvent)io.attachEvent('onload',cb);else io.addEventListener('load',cb,false);setTimeout(checkState,15);try{form.submit();}catch(err){var submitFn=document.createElement('form').submit;submitFn.apply(form);}}finally{form.setAttribute('action',a);form.setAttribute('enctype',et);if(t)form.setAttribute('target',t);else $form.removeAttr('target');$(extraInputs).remove();}}if(s.forceSync)doSubmit();else setTimeout(doSubmit,10);var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed)return;doc=getDoc(io);if(!doc){log('cannot access response document');e=SERVER_ABORT;}if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort('timeout');deferred.reject(xhr,'timeout');return;}if(e===SERVER_ABORT&&xhr){xhr.abort('server abort');deferred.reject(xhr,'error','server abort');return;}if(!doc||doc.location.href===s.iframeSrc)if(!timedOut)return;if(io.detachEvent)io.detachEvent('onload',cb);else io.removeEventListener('load',cb,false);var status='success',errMsg;try{if(timedOut)throw 'timeout';var isXml=s.dataType==='xml'||doc.XMLDocument||$.isXMLDoc(doc);log('isXml='+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML))if(--domCheckCount){log('requeing onLoad callback, DOM not available');setTimeout(cb,250);return;}var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)s.dataType='xml';xhr.getResponseHeader=function(header){var headers={'content-type':s.dataType};return headers[header.toLowerCase()];};if(docRoot){xhr.status=Number(docRoot.getAttribute('status'))||xhr.status;xhr.statusText=docRoot.getAttribute('statusText')||xhr.statusText;}var dt=(s.dataType||'').toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName('textarea')[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute('status'))||xhr.status;xhr.statusText=ta.getAttribute('statusText')||xhr.statusText;}else{if(scr){var pre=doc.getElementsByTagName('pre')[0];var b=doc.getElementsByTagName('body')[0];if(pre)xhr.responseText=pre.textContent?pre.textContent:pre.innerText;else{if(b)xhr.responseText=b.textContent?b.textContent:b.innerText;}}}}else{if(dt==='xml'&&!xhr.responseXML&&xhr.responseText)xhr.responseXML=toXml(xhr.responseText);}try{data=httpData(xhr,dt,s);}catch(err){status='parsererror';xhr.error=errMsg=(err||status);}}catch(err){log('error caught: ',err);status='error';xhr.error=errMsg=(err||status);}if(xhr.aborted){log('upload aborted');status=null;}if(xhr.status)status=((xhr.status>=200&&xhr.status<300)||xhr.status===304)?'success':'error';if(status==='success'){if(s.success)s.success.call(s.context,data,'success',xhr);deferred.resolve(xhr.responseText,'success',xhr);if(g)$.event.trigger('ajaxSuccess',[xhr,s]);}else{if(status){if(typeof errMsg==='undefined')errMsg=xhr.statusText;if(s.error)s.error.call(s.context,xhr,status,errMsg);deferred.reject(xhr,'error',errMsg);if(g)$.event.trigger('ajaxError',[xhr,s,errMsg]);}}if(g)$.event.trigger('ajaxComplete',[xhr,s]);if(g&&!--$.active)$.event.trigger('ajaxStop');if(s.complete)s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)$io.remove();else $io.attr('src',s.iframeSrc);xhr.responseXML=null;},100);}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject('Microsoft.XMLDOM');doc.async='false';doc.loadXML(s);}else doc=(new DOMParser()).parseFromString(s,'text/xml');return (doc&&doc.documentElement&&doc.documentElement.nodeName!=='parsererror')?doc:null;};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader('content-type')||'',xml=((type==='xml'||!type)&&ct.indexOf('xml')>=0),data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==='parsererror')if($.error)$.error('parsererror');if(s&&s.dataFilter)data=s.dataFilter(data,type);if(typeof data==='string')if((type==='json'||!type)&&ct.indexOf('json')>=0)data=JSON.parse(data);else{if((type==='script'||!type)&&ct.indexOf('javascript')>=0)$.globalEval(data);}return data;};return deferred;}};$.fn.ajaxForm=function(options,data,dataType,onSuccess){if(typeof options==='string'||(options===false&&arguments.length>0)){options={'url':options,'data':data,'dataType':dataType};if(typeof onSuccess==='function')options.success=onSuccess;}options=options||{};options.delegation=options.delegation&&typeof $.fn.on==='function';if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log('DOM not ready, queuing ajaxForm');$(function(){$(o.s,o.c).ajaxForm(options);});return this;}log('terminating; zero elements found by selector'+($.isReady?'':' (DOM not ready)'));return this;}if(options.delegation){$(document).off('submit.form-plugin',this.selector,doAjaxSubmit).off('click.form-plugin',this.selector,captureSubmittingElement).on('submit.form-plugin',this.selector,options,doAjaxSubmit).on('click.form-plugin',this.selector,options,captureSubmittingElement);return this;}if(options.beforeFormUnbind)options.beforeFormUnbind(this,options);return this.ajaxFormUnbind().on('submit.form-plugin',options,doAjaxSubmit).on('click.form-plugin',options,captureSubmittingElement);};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(e.target).closest('form').ajaxSubmit(options);}}function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!$el.is('[type=submit],[type=image]')){var t=$el.closest('[type=submit]');if(t.length===0)return;target=t[0];}var form=target.form;form.clk=target;if(target.type==='image')if(typeof e.offsetX!=='undefined'){form.clk_x=e.offsetX;form.clk_y=e.offsetY;}else if(typeof $.fn.offset==='function'){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top;}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop;}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null;},100);}$.fn.ajaxFormUnbind=function(){return this.off('submit.form-plugin click.form-plugin');};$.fn.formToArray=function(semantic,elements,filtering){var a=[];if(this.length===0)return a;var form=this[0];var formId=this.attr('id');var els=(semantic||typeof form.elements==='undefined')?form.getElementsByTagName('*'):form.elements;var els2;if(els)els=$.makeArray(els);if(formId&&(semantic||/(Edge|Trident)\//.test(navigator.userAgent))){els2=$(':input[form="'+formId+'"]').get();if(els2.length)els=(els||[]).concat(els2);}if(!els||!els.length)return a;if(typeof (filtering)==="function")els=$.map(els,filtering);var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n||el.disabled)continue;if(semantic&&form.clk&&el.type==='image'){if(form.clk===el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}continue;}v=$.fieldValue(el,true);if(v&&v.constructor===Array){if(elements)elements.push(el);for(j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});}else if(feature.fileapi&&el.type==='file'){if(elements)elements.push(el);var files=el.files;if(files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:'',type:el.type});}else{if(v!==null&&typeof v!=='undefined'){if(elements)elements.push(el);a.push({name:n,value:v,type:el.type,required:el.required});}}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type==='image'){a.push({name:n,value:$input.val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}}return a;};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic));};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n)return;var v=$.fieldValue(this,successful);if(v&&v.constructor===Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else{if(v!==null&&typeof v!=='undefined')a.push({name:this.name,value:v});}});return $.param(a);};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v==='undefined'||(v.constructor===Array&&!v.length))continue;if(Array.isArray(v))val=val.concat(v);else val.push(v);}return val;};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(typeof successful==='undefined')successful=true;if(successful&&(!n||el.disabled||t==='reset'||t==='button'||(t==='checkbox'||t==='radio')&&!el.checked||(t==='submit'||t==='image')&&el.form&&el.form.clk!==el||tag==='select'&&el.selectedIndex===-1))return null;if(tag==='select'){var index=el.selectedIndex;if(index<0)return null;var a=[],ops=el.options;var one=(t==='select-one');var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected&&!op.disabled){var v=op.value;if(!v)v=(op.attributes&&op.attributes.value&&!(op.attributes.value.specified))?op.text:op.value;if(one)return v;a.push(v);}}return a;}return $(el).val().replace(rCRLF,'\r\n');};$.fn.clearForm=function(includeHidden){return this.each(function(){$('input,select,textarea',this).clearFields(includeHidden);});};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag==='textarea')this.value='';else if(t==='checkbox'||t==='radio')this.checked=false;else if(tag==='select')this.selectedIndex=-1;else if(t==='file')if(/MSIE/.test(navigator.userAgent))$(this).replaceWith($(this).clone(true));else $(this).val('');else{if(includeHidden)if((includeHidden===true&&/hidden/.test(t))||(typeof includeHidden==='string'&&$(this).is(includeHidden)))this.value='';}});};$.fn.resetForm=function(){return this.each(function(){var el=$(this);var tag=this.tagName.toLowerCase();switch(tag){case 'input':this.checked=this.defaultChecked;case 'textarea':this.value=this.defaultValue;return true;case 'option':case 'optgroup':var select=el.parents('select');if(select.length&&select[0].multiple)if(tag==='option')this.selected=this.defaultSelected;else el.find('option').resetForm();else select.resetForm();return true;case 'select':el.find('option').each(function(i){this.selected=this.defaultSelected;if(this.defaultSelected&&!el[0].multiple){el[0].selectedIndex=i;return false;}});return true;case 'label':var forEl=$(el.attr('for'));var list=el.find('input,select,textarea');if(forEl[0])list.unshift(forEl[0]);list.resetForm();return true;case 'form':if(typeof this.reset==='function'||(typeof this.reset==='object'&&!this.reset.nodeType))this.reset();return true;default:el.find('form,input,label,select,textarea').resetForm();return true;}});};$.fn.enable=function(b){if(typeof b==='undefined')b=true;return this.each(function(){this.disabled=!b;});};$.fn.selected=function(select){if(typeof select==='undefined')select=true;return this.each(function(){var t=this.type;if(t==='checkbox'||t==='radio')this.checked=select;else{if(this.tagName.toLowerCase()==='option'){var $sel=$(this).parent('select');if(select&&$sel[0]&&$sel[0].type==='select-one')$sel.find('option').selected(false);this.selected=select;}}});};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug)return;var msg='[jquery.form] '+Array.prototype.join.call(arguments,'');if(window.console&&window.console.log)window.console.log(msg);else{if(window.opera&&window.opera.postError)window.opera.postError(msg);}}}));;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings){Drupal.Views={};Drupal.Views.parseQueryString=function(query){const args={};if(query.includes('?'))query=query.substring(query.indexOf('?')+1);let pair;const pairs=query.split('&');for(let i=0;i<pairs.length;i++){pair=pairs[i].split('=');if(pair[0]!=='q')if(pair[1])args[decodeURIComponent(pair[0].replace(/\+/g,' '))]=decodeURIComponent(pair[1].replace(/\+/g,' '));else args[decodeURIComponent(pair[0].replace(/\+/g,' '))]='';}return args;};Drupal.Views.parseViewArgs=function(href,viewPath){const returnObj={};const path=Drupal.Views.getPath(href);const viewHref=Drupal.url(viewPath).substring(drupalSettings.path.baseUrl.length);if(viewHref&&path.startsWith(`${viewHref}/`)){returnObj.view_args=decodeURIComponent(path.substring(viewHref.length+1,path.length));returnObj.view_path=path;}return returnObj;};Drupal.Views.pathPortion=function(href){const protocol=window.location.protocol;if(href.startsWith(protocol))href=href.substring(href.indexOf('/',protocol.length+2));return href;};Drupal.Views.getPath=function(href){href=Drupal.Views.pathPortion(href);href=href.substring(drupalSettings.path.baseUrl.length,href.length);if(href.startsWith('?q='))href=href.substring(3,href.length);const chars=['#','?','&'];for(let i=0;i<chars.length;i++)if(href.includes(chars[i]))href=href.substring(0,href.indexOf(chars[i]));return href;};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,drupalSettings){Drupal.behaviors.ViewsAjaxView={};Drupal.behaviors.ViewsAjaxView.attach=function(context,settings){if(settings&&settings.views&&settings.views.ajaxViews){const {views:{ajaxViews}}=settings;Object.keys(ajaxViews||{}).forEach((i)=>{Drupal.views.instances[i]=new Drupal.views.ajaxView(ajaxViews[i]);});}};Drupal.behaviors.ViewsAjaxView.detach=(context,settings,trigger)=>{if(trigger==='unload')if(settings&&settings.views&&settings.views.ajaxViews){const {views:{ajaxViews}}=settings;Object.keys(ajaxViews||{}).forEach((i)=>{const selector=`.js-view-dom-id-${ajaxViews[i].view_dom_id}`;if($(selector,context).length){delete Drupal.views.instances[i];delete settings.views.ajaxViews[i];}});}};Drupal.views={};Drupal.views.instances={};Drupal.views.ajaxView=function(settings){const selector=`.js-view-dom-id-${settings.view_dom_id}`;this.$view=$(selector);let ajaxPath=drupalSettings.views.ajax_path;if(ajaxPath.constructor.toString().includes('Array'))ajaxPath=ajaxPath[0];let queryString=window.location.search||'';if(queryString!==''){queryString=queryString.slice(1).replace(/q=[^&]+&?|page=[^&]+&?|&?render=[^&]+/,'');if(queryString!=='')queryString=(/\?/.test(ajaxPath)?'&':'?')+queryString;}this.element_settings={url:ajaxPath+queryString,submit:settings,httpMethod:'GET',setClick:true,event:'click',selector,progress:{type:'fullscreen'}};this.settings=settings;this.$exposed_form=$(`form#views-exposed-form-${settings.view_name.replace(/_/g,'-')}-${settings.view_display_id.replace(/_/g,'-')}`);once('exposed-form',this.$exposed_form).forEach(this.attachExposedFormAjax.bind(this));once('ajax-pager',this.$view.filter(this.filterNestedViews.bind(this))).forEach(this.attachPagerAjax.bind(this));const selfSettings=$.extend({},this.element_settings,{event:'RefreshView',base:this.selector,httpMethod:'GET',element:this.$view.get(0)});this.refreshViewAjax=Drupal.ajax(selfSettings);};Drupal.views.ajaxView.prototype.attachExposedFormAjax=function(){const that=this;this.exposedFormAjax=[];$('input[type=submit], button[type=submit], input[type=image]',this.$exposed_form).not('[data-drupal-selector=edit-reset]').each(function(index){const selfSettings=$.extend({},that.element_settings,{base:$(this).attr('id'),element:this});that.exposedFormAjax[index]=Drupal.ajax(selfSettings);});};Drupal.views.ajaxView.prototype.filterNestedViews=function(){return !this.$view.parents('.view').length;};Drupal.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find('.js-pager__items a, th.views-field a, .attachment .views-summary a').each(this.attachPagerLinkAjax.bind(this));};Drupal.views.ajaxView.prototype.attachPagerLinkAjax=function(id,link){const $link=$(link);const viewData={};const href=$link.attr('href');$.extend(viewData,this.settings,Drupal.Views.parseQueryString(href),Drupal.Views.parseViewArgs(href,this.settings.view_base_path));const selfSettings=$.extend({},this.element_settings,{submit:viewData,base:false,element:link,httpMethod:'GET'});this.pagerAjax=Drupal.ajax(selfSettings);};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal){'use strict';Drupal.views.ajaxView.prototype.attachExposedFormAjax=function(){var that=this;this.exposedFormAjax=[];$('button[type=submit], input[type=submit], input[type=image]',this.$exposed_form).not('[data-drupal-selector=edit-reset]').each(function(index){var self_settings=$.extend({},that.element_settings,{base:$(this).attr('id'),element:this});that.exposedFormAjax[index]=Drupal.ajax(self_settings);});};})(jQuery,Drupal);;
(function($,Drupal,debounce){"use strict";var $window=$(window);var scrollThreshold=200;var automaticPagerSelector='[data-drupal-views-infinite-scroll-pager="automatic"]';var pagerSelector='[data-drupal-views-infinite-scroll-pager]';var contentWrapperSelector='[data-drupal-views-infinite-scroll-content-wrapper]';var scrollEvent='scroll.views_infinite_scroll';$.fn.infiniteScrollInsertView=function($newView){var matches=/(js-view-dom-id-\w+)/.exec(this.attr('class'));if(!matches)return;var currentViewId=matches[1].replace('js-view-dom-id-','views_dom_id:');var view=Drupal.views.instances[currentViewId];once.remove('ajax-pager',view.$view);once.remove('exposed-form',view.$exposed_form);var $existingPager=view.$view.find(pagerSelector);once.remove('infinite-scroll',$existingPager);var $newRows=$newView.find(contentWrapperSelector).children();var $newPager=$newView.find(pagerSelector);view.$view.find(contentWrapperSelector).trigger('views_infinite_scroll.new_content',$newRows.clone()).append($newRows);$existingPager.replaceWith($newPager);Drupal.attachBehaviors(view.$view[0]);};Drupal.behaviors.views_infinite_scroll_automatic={attach:function(context,settings){once('infinite-scroll',automaticPagerSelector,context).forEach(function(elem){var $pager=$(elem);$pager.addClass('visually-hidden');var isLoadNeeded=function(){return window.innerHeight+window.pageYOffset>$pager.offset().top-scrollThreshold;};$window.on(scrollEvent,debounce(function(){if(isLoadNeeded()){$pager.find('[rel=next]').click();$window.off(scrollEvent);}},200));if(isLoadNeeded())$window.trigger(scrollEvent);});},detach:function(context,settings,trigger){if(trigger==='unload')if(once.remove('infinite-scroll',automaticPagerSelector,context).length)$window.off(scrollEvent);}};Drupal.views.ajaxView.prototype.filterNestedViews=function(){return this.$view.hasClass('view-eva')||!this.$view.parents('.view').length;};})(jQuery,Drupal,Drupal.debounce);;
